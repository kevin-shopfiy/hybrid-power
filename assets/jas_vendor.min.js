!function(){"use strict";function l(i,t){function e(t,e){return function(){return t.apply(e,arguments)}}var o;if(t=t||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=t.touchBoundary||10,this.layer=i,this.tapDelay=t.tapDelay||200,this.tapTimeout=t.tapTimeout||700,!l.notNeeded(i)){for(var n=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],r=this,s=0,a=n.length;s<a;s++)r[n[s]]=e(r[n[s]],r);c&&(i.addEventListener("mouseover",this.onMouse,!0),i.addEventListener("mousedown",this.onMouse,!0),i.addEventListener("mouseup",this.onMouse,!0)),i.addEventListener("click",this.onClick,!0),i.addEventListener("touchstart",this.onTouchStart,!1),i.addEventListener("touchmove",this.onTouchMove,!1),i.addEventListener("touchend",this.onTouchEnd,!1),i.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(i.removeEventListener=function(t,e,o){var n=Node.prototype.removeEventListener;"click"===t?n.call(i,t,e.hijacked||e,o):n.call(i,t,e,o)},i.addEventListener=function(t,e,o){var n=Node.prototype.addEventListener;"click"===t?n.call(i,t,e.hijacked||(e.hijacked=function(t){t.propagationStopped||e(t)}),o):n.call(i,t,e,o)}),"function"==typeof i.onclick&&(o=i.onclick,i.addEventListener("click",function(t){o(t)},!1),i.onclick=null)}}var t=0<=navigator.userAgent.indexOf("Windows Phone"),c=0<navigator.userAgent.indexOf("Android")&&!t,a=/iP(ad|hone|od)/.test(navigator.userAgent)&&!t,h=a&&/OS 4_\d(_\d)?/.test(navigator.userAgent),u=a&&/OS [6-7]_\d/.test(navigator.userAgent),i=0<navigator.userAgent.indexOf("BB10");l.prototype.needsClick=function(t){switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(a&&"file"===t.type||t.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(t.className)},l.prototype.needsFocus=function(t){switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!c;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},l.prototype.sendClick=function(t,e){var o,n;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),n=e.changedTouches[0],(o=document.createEvent("MouseEvents")).initMouseEvent(this.determineEventType(t),!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),o.forwardedTouchEvent=!0,t.dispatchEvent(o)},l.prototype.determineEventType=function(t){return c&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},l.prototype.focus=function(t){var e;a&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type&&"month"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},l.prototype.updateScrollParent=function(t){var e,o;if(!(e=t.fastClickScrollParent)||!e.contains(t)){o=t;do{if(o.scrollHeight>o.offsetHeight){e=o,t.fastClickScrollParent=o;break}o=o.parentElement}while(o)}e&&(e.fastClickLastScrollTop=e.scrollTop)},l.prototype.getTargetElementFromEventTarget=function(t){return t.nodeType===Node.TEXT_NODE?t.parentNode:t},l.prototype.onTouchStart=function(t){var e,o,n;if(1<t.targetTouches.length)return!0;if(e=this.getTargetElementFromEventTarget(t.target),o=t.targetTouches[0],a){if((n=window.getSelection()).rangeCount&&!n.isCollapsed)return!0;if(!h){if(o.identifier&&o.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=o.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=o.pageX,this.touchStartY=o.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),!0},l.prototype.touchHasMoved=function(t){var e=t.changedTouches[0],o=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>o||Math.abs(e.pageY-this.touchStartY)>o},l.prototype.onTouchMove=function(t){return this.trackingClick&&(this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0},l.prototype.findControl=function(t){return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},l.prototype.onTouchEnd=function(t){var e,o,n,i,r,s=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0;if(t.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,o=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,u&&(r=t.changedTouches[0],(s=document.elementFromPoint(r.pageX-window.pageXOffset,r.pageY-window.pageYOffset)||s).fastClickScrollParent=this.targetElement.fastClickScrollParent),"label"===(n=s.tagName.toLowerCase())){if(e=this.findControl(s)){if(this.focus(s),c)return!1;s=e}}else if(this.needsFocus(s))return 100<t.timeStamp-o||a&&window.top!==window&&"input"===n?this.targetElement=null:(this.focus(s),this.sendClick(s,t),a&&"select"===n||(this.targetElement=null,t.preventDefault())),!1;return!(!a||h||(!(i=s.fastClickScrollParent)||i.fastClickLastScrollTop===i.scrollTop))||(this.needsClick(s)||(t.preventDefault(),this.sendClick(s,t)),!1)},l.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},l.prototype.onMouse=function(t){return!this.targetElement||(!!t.forwardedTouchEvent||(!(t.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick))||(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1)))},l.prototype.onClick=function(t){var e;return this.trackingClick?(this.targetElement=null,!(this.trackingClick=!1)):"submit"===t.target.type&&0===t.detail||((e=this.onMouse(t))||(this.targetElement=null),e)},l.prototype.destroy=function(){var t=this.layer;c&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},l.notNeeded=function(t){var e,o,n;if(void 0===window.ontouchstart)return!0;if(o=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!c)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(31<o&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(i&&(10<=(n=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/))[1]&&3<=n[2]&&(e=document.querySelector("meta[name=viewport]")))){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===t.style.msTouchAction||"manipulation"===t.style.touchAction||(!!(27<=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]&&((e=document.querySelector("meta[name=viewport]"))&&(-1!==e.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth)))||("none"===t.style.touchAction||"manipulation"===t.style.touchAction))},l.attach=function(t,e){return new l(t,e)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return l}):"undefined"!=typeof module&&module.exports?(module.exports=l.attach,module.exports.FastClick=l):window.FastClick=l}(),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):window.jQuery||window.Zepto)}(function(h){var u,n,p,i,d,e,l="Close",c="BeforeClose",f="MarkupParse",m="Open",g=".mfp",v="mfp-ready",o="mfp-removing",s="mfp-prevent-close",t=function(){},a=!!window.jQuery,y=h(window),w=function(t,e){u.ev.on("mfp"+t+g,e)},b=function(t,e,o,n){var i=document.createElement("div");return i.className="mfp-"+t,o&&(i.innerHTML=o),n?e&&e.appendChild(i):(i=h(i),e&&i.appendTo(e)),i},x=function(t,e){u.ev.triggerHandler("mfp"+t,e),u.st.callbacks&&(t=t.charAt(0).toLowerCase()+t.slice(1),u.st.callbacks[t]&&u.st.callbacks[t].apply(u,h.isArray(e)?e:[e]))},_=function(t){return t===e&&u.currTemplate.closeBtn||(u.currTemplate.closeBtn=h(u.st.closeMarkup.replace("%title%",u.st.tClose)),e=t),u.currTemplate.closeBtn},r=function(){h.magnificPopup.instance||((u=new t).init(),h.magnificPopup.instance=u)};t.prototype={constructor:t,init:function(){var t=navigator.appVersion;u.isIE7=-1!==t.indexOf("MSIE 7."),u.isIE8=-1!==t.indexOf("MSIE 8."),u.isLowIE=u.isIE7||u.isIE8,u.isAndroid=/android/gi.test(t),u.isIOS=/iphone|ipad|ipod/gi.test(t),u.supportsTransition=function(){var t=document.createElement("p").style,e=["ms","O","Moz","Webkit"];if(void 0!==t.transition)return!0;for(;e.length;)if(e.pop()+"Transition"in t)return!0;return!1}(),u.probablyMobile=u.isAndroid||u.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),p=h(document),u.popupsCache={}},open:function(t){var e;if(!1===t.isObj){u.items=t.items.toArray(),u.index=0;var o,n=t.items;for(e=0;e<n.length;e++)if((o=n[e]).parsed&&(o=o.el[0]),o===t.el[0]){u.index=e;break}}else u.items=h.isArray(t.items)?t.items:[t.items],u.index=t.index||0;if(!u.isOpen){u.types=[],d="",u.ev=t.mainEl&&t.mainEl.length?t.mainEl.eq(0):p,t.key?(u.popupsCache[t.key]||(u.popupsCache[t.key]={}),u.currTemplate=u.popupsCache[t.key]):u.currTemplate={},u.st=h.extend(!0,{},h.magnificPopup.defaults,t),u.fixedContentPos="auto"===u.st.fixedContentPos?!u.probablyMobile:u.st.fixedContentPos,u.st.modal&&(u.st.closeOnContentClick=!1,u.st.closeOnBgClick=!1,u.st.showCloseBtn=!1,u.st.enableEscapeKey=!1),u.bgOverlay||(u.bgOverlay=b("bg").on("click"+g,function(){u.close()}),u.wrap=b("wrap").attr("tabindex",-1).on("click"+g,function(t){u._checkIfClose(t.target)&&u.close()}),u.container=b("container",u.wrap)),u.contentContainer=b("content"),u.st.preloader&&(u.preloader=b("preloader",u.container,u.st.tLoading));var i=h.magnificPopup.modules;for(e=0;e<i.length;e++){var r=i[e];r=r.charAt(0).toUpperCase()+r.slice(1),u["init"+r].call(u)}x("BeforeOpen"),u.st.showCloseBtn&&(u.st.closeBtnInside?(w(f,function(t,e,o,n){o.close_replaceWith=_(n.type)}),d+=" mfp-close-btn-in"):u.wrap.append(_())),u.st.alignTop&&(d+=" mfp-align-top"),u.wrap.css(u.fixedContentPos?{overflow:u.st.overflowY,overflowX:"hidden",overflowY:u.st.overflowY}:{top:y.scrollTop(),position:"absolute"}),(!1===u.st.fixedBgPos||"auto"===u.st.fixedBgPos&&!u.fixedContentPos)&&u.bgOverlay.css({height:p.height(),position:"absolute"}),u.st.enableEscapeKey&&p.on("keyup"+g,function(t){27===t.keyCode&&u.close()}),y.on("resize"+g,function(){u.updateSize()}),u.st.closeOnContentClick||(d+=" mfp-auto-cursor"),d&&u.wrap.addClass(d);var s=u.wH=y.height(),a={};if(u.fixedContentPos&&u._hasScrollBar(s)){var l=u._getScrollbarSize();l&&(a.marginRight=l)}u.fixedContentPos&&(u.isIE7?h("body, html").css("overflow","hidden"):a.overflow="hidden");var c=u.st.mainClass;return u.isIE7&&(c+=" mfp-ie7"),c&&u._addClassToMFP(c),u.updateItemHTML(),x("BuildControls"),h("html").css(a),u.bgOverlay.add(u.wrap).prependTo(u.st.prependTo||h(document.body)),u._lastFocusedEl=document.activeElement,setTimeout(function(){u.content?(u._addClassToMFP(v),u._setFocus()):u.bgOverlay.addClass(v),p.on("focusin"+g,u._onFocusIn)},16),u.isOpen=!0,u.updateSize(s),x(m),t}u.updateItemHTML()},close:function(){u.isOpen&&(x(c),u.isOpen=!1,u.st.removalDelay&&!u.isLowIE&&u.supportsTransition?(u._addClassToMFP(o),setTimeout(function(){u._close()},u.st.removalDelay)):u._close())},_close:function(){x(l);var t=o+" "+v+" ";if(u.bgOverlay.detach(),u.wrap.detach(),u.container.empty(),u.st.mainClass&&(t+=u.st.mainClass+" "),u._removeClassFromMFP(t),u.fixedContentPos){var e={marginRight:""};u.isIE7?h("body, html").css("overflow",""):e.overflow="",h("html").css(e)}p.off("keyup.mfp focusin"+g),u.ev.off(g),u.wrap.attr("class","mfp-wrap").removeAttr("style"),u.bgOverlay.attr("class","mfp-bg"),u.container.attr("class","mfp-container"),!u.st.showCloseBtn||u.st.closeBtnInside&&!0!==u.currTemplate[u.currItem.type]||u.currTemplate.closeBtn&&u.currTemplate.closeBtn.detach(),u._lastFocusedEl&&h(u._lastFocusedEl).focus(),u.currItem=null,u.content=null,u.currTemplate=null,u.prevHeight=0,x("AfterClose")},updateSize:function(t){if(u.isIOS){var e=document.documentElement.clientWidth/window.innerWidth,o=window.innerHeight*e;u.wrap.css("height",o),u.wH=o}else u.wH=t||y.height();u.fixedContentPos||u.wrap.css("height",u.wH),x("Resize")},updateItemHTML:function(){var t=u.items[u.index];u.contentContainer.detach(),u.content&&u.content.detach(),t.parsed||(t=u.parseEl(u.index));var e=t.type;if(x("BeforeChange",[u.currItem?u.currItem.type:"",e]),u.currItem=t,!u.currTemplate[e]){var o=!!u.st[e]&&u.st[e].markup;x("FirstMarkupParse",o),u.currTemplate[e]=!o||h(o)}i&&i!==t.type&&u.container.removeClass("mfp-"+i+"-holder");var n=u["get"+e.charAt(0).toUpperCase()+e.slice(1)](t,u.currTemplate[e]);u.appendContent(n,e),t.preloaded=!0,x("Change",t),i=t.type,u.container.prepend(u.contentContainer),x("AfterChange")},appendContent:function(t,e){(u.content=t)?u.st.showCloseBtn&&u.st.closeBtnInside&&!0===u.currTemplate[e]?u.content.find(".mfp-close").length||u.content.append(_()):u.content=t:u.content="",x("BeforeAppend"),u.container.addClass("mfp-"+e+"-holder"),u.contentContainer.append(u.content)},parseEl:function(t){var e,o=u.items[t];if((o=o.tagName?{el:h(o)}:(e=o.type,{data:o,src:o.src})).el){for(var n=u.types,i=0;i<n.length;i++)if(o.el.hasClass("mfp-"+n[i])){e=n[i];break}o.src=o.el.attr("data-mfp-src"),o.src||(o.src=o.el.attr("href"))}return o.type=e||u.st.type||"inline",o.index=t,o.parsed=!0,u.items[t]=o,x("ElementParse",o),u.items[t]},addGroup:function(e,o){var t=function(t){t.mfpEl=this,u._openClick(t,e,o)};o||(o={});var n="click.magnificPopup";o.mainEl=e,o.items?(o.isObj=!0,e.off(n).on(n,t)):(o.isObj=!1,o.delegate?e.off(n).on(n,o.delegate,t):(o.items=e).off(n).on(n,t))},_openClick:function(t,e,o){if((void 0!==o.midClick?o.midClick:h.magnificPopup.defaults.midClick)||2!==t.which&&!t.ctrlKey&&!t.metaKey){var n=void 0!==o.disableOn?o.disableOn:h.magnificPopup.defaults.disableOn;if(n)if(h.isFunction(n)){if(!n.call(u))return!0}else if(y.width()<n)return!0;t.type&&(t.preventDefault(),u.isOpen&&t.stopPropagation()),o.el=h(t.mfpEl),o.delegate&&(o.items=e.find(o.delegate)),u.open(o)}},updateStatus:function(t,e){if(u.preloader){n!==t&&u.container.removeClass("mfp-s-"+n),e||"loading"!==t||(e=u.st.tLoading);var o={status:t,text:e};x("UpdateStatus",o),t=o.status,e=o.text,u.preloader.html(e),u.preloader.find("a").on("click",function(t){t.stopImmediatePropagation()}),u.container.addClass("mfp-s-"+t),n=t}},_checkIfClose:function(t){if(!h(t).hasClass(s)){var e=u.st.closeOnContentClick,o=u.st.closeOnBgClick;if(e&&o)return!0;if(!u.content||h(t).hasClass("mfp-close")||u.preloader&&t===u.preloader[0])return!0;if(t===u.content[0]||h.contains(u.content[0],t)){if(e)return!0}else if(o&&h.contains(document,t))return!0;return!1}},_addClassToMFP:function(t){u.bgOverlay.addClass(t),u.wrap.addClass(t)},_removeClassFromMFP:function(t){this.bgOverlay.removeClass(t),u.wrap.removeClass(t)},_hasScrollBar:function(t){return(u.isIE7?p.height():document.body.scrollHeight)>(t||y.height())},_setFocus:function(){(u.st.focus?u.content.find(u.st.focus).eq(0):u.wrap).focus()},_onFocusIn:function(t){return t.target===u.wrap[0]||h.contains(u.wrap[0],t.target)?void 0:(u._setFocus(),!1)},_parseMarkup:function(i,t,e){var r;e.data&&(t=h.extend(e.data,t)),x(f,[i,t,e]),h.each(t,function(t,e){if(void 0===e||!1===e)return!0;if(1<(r=t.split("_")).length){var o=i.find(g+"-"+r[0]);if(0<o.length){var n=r[1];"replaceWith"===n?o[0]!==e[0]&&o.replaceWith(e):"img"===n?o.is("img")?o.attr("src",e):o.replaceWith('<img src="'+e+'" class="'+o.attr("class")+'" />'):o.attr(r[1],e)}}else i.find(g+"-"+t).html(e)})},_getScrollbarSize:function(){if(void 0===u.scrollbarSize){var t=document.createElement("div");t.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(t),u.scrollbarSize=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return u.scrollbarSize}},h.magnificPopup={instance:null,proto:t.prototype,modules:[],open:function(t,e){return r(),(t=t?h.extend(!0,{},t):{}).isObj=!0,t.index=e||0,this.instance.open(t)},close:function(){return h.magnificPopup.instance&&h.magnificPopup.instance.close()},registerModule:function(t,e){e.options&&(h.magnificPopup.defaults[t]=e.options),h.extend(this.proto,e.proto),this.modules.push(t)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:"Close (Esc)",tLoading:"Loading..."}},h.fn.magnificPopup=function(t){r();var e=h(this);if("string"==typeof t)if("open"===t){var o,n=a?e.data("magnificPopup"):e[0].magnificPopup,i=parseInt(arguments[1],10)||0;o=n.items?n.items[i]:(o=e,n.delegate&&(o=o.find(n.delegate)),o.eq(i)),u._openClick({mfpEl:o},e,n)}else u.isOpen&&u[t].apply(u,Array.prototype.slice.call(arguments,1));else t=h.extend(!0,{},t),a?e.data("magnificPopup",t):e[0].magnificPopup=t,u.addGroup(e,t);return e};var S,C,T,k="inline",E=function(){T&&(C.after(T.addClass(S)).detach(),T=null)};h.magnificPopup.registerModule(k,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){u.types.push(k),w(l+"."+k,function(){E()})},getInline:function(t,e){if(E(),t.src){var o=u.st.inline,n=h(t.src);if(n.length){var i=n[0].parentNode;i&&i.tagName&&(C||(S=o.hiddenClass,C=b(S),S="mfp-"+S),T=n.after(C).detach().removeClass(S)),u.updateStatus("ready")}else u.updateStatus("error",o.tNotFound),n=h("<div>");return t.inlineElement=n}return u.updateStatus("ready"),u._parseMarkup(e,{},t),e}}});var M,I="ajax",O=function(){M&&h(document.body).removeClass(M)},P=function(){O(),u.req&&u.req.abort()};h.magnificPopup.registerModule(I,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){u.types.push(I),M=u.st.ajax.cursor,w(l+"."+I,P),w("BeforeChange."+I,P)},getAjax:function(i){M&&h(document.body).addClass(M),u.updateStatus("loading");var t=h.extend({url:i.src,success:function(t,e,o){var n={data:t,xhr:o};x("ParseAjax",n),u.appendContent(h(n.data),I),i.finished=!0,O(),u._setFocus(),setTimeout(function(){u.wrap.addClass(v)},16),u.updateStatus("ready"),x("AjaxContentAdded")},error:function(){O(),i.finished=i.loadError=!0,u.updateStatus("error",u.st.ajax.tError.replace("%url%",i.src))}},u.st.ajax.settings);return u.req=h.ajax(t),""}}});var A;h.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var t=u.st.image,e=".image";u.types.push("image"),w(m+e,function(){"image"===u.currItem.type&&t.cursor&&h(document.body).addClass(t.cursor)}),w(l+e,function(){t.cursor&&h(document.body).removeClass(t.cursor),y.off("resize"+g)}),w("Resize"+e,u.resizeImage),u.isLowIE&&w("AfterChange",u.resizeImage)},resizeImage:function(){var t=u.currItem;if(t&&t.img&&u.st.image.verticalFit){var e=0;u.isLowIE&&(e=parseInt(t.img.css("padding-top"),10)+parseInt(t.img.css("padding-bottom"),10)),t.img.css("max-height",u.wH-e)}},_onImageHasSize:function(t){t.img&&(t.hasSize=!0,A&&clearInterval(A),t.isCheckingImgSize=!1,x("ImageHasSize",t),t.imgHidden&&(u.content&&u.content.removeClass("mfp-loading"),t.imgHidden=!1))},findImageSize:function(e){var o=0,n=e.img[0],i=function(t){A&&clearInterval(A),A=setInterval(function(){return 0<n.naturalWidth?void u._onImageHasSize(e):(200<o&&clearInterval(A),void(3===++o?i(10):40===o?i(50):100===o&&i(500)))},t)};i(1)},getImage:function(t,e){var o=0,n=function(){t&&(t.img[0].complete?(t.img.off(".mfploader"),t===u.currItem&&(u._onImageHasSize(t),u.updateStatus("ready")),t.hasSize=!0,t.loaded=!0,x("ImageLoadComplete")):++o<200?setTimeout(n,100):i())},i=function(){t&&(t.img.off(".mfploader"),t===u.currItem&&(u._onImageHasSize(t),u.updateStatus("error",r.tError.replace("%url%",t.src))),t.hasSize=!0,t.loaded=!0,t.loadError=!0)},r=u.st.image,s=e.find(".mfp-img");if(s.length){var a=document.createElement("img");a.className="mfp-img",t.el&&t.el.find("img").length&&(a.alt=t.el.find("img").attr("alt")),t.img=h(a).on("load.mfploader",n).on("error.mfploader",i),a.src=t.src,s.is("img")&&(t.img=t.img.clone()),0<(a=t.img[0]).naturalWidth?t.hasSize=!0:a.width||(t.hasSize=!1)}return u._parseMarkup(e,{title:function(t){if(t.data&&void 0!==t.data.title)return t.data.title;var e=u.st.image.titleSrc;if(e){if(h.isFunction(e))return e.call(u,t);if(t.el)return t.el.attr(e)||""}return""}(t),img_replaceWith:t.img},t),u.resizeImage(),t.hasSize?(A&&clearInterval(A),t.loadError?(e.addClass("mfp-loading"),u.updateStatus("error",r.tError.replace("%url%",t.src))):(e.removeClass("mfp-loading"),u.updateStatus("ready"))):(u.updateStatus("loading"),t.loading=!0,t.hasSize||(t.imgHidden=!0,e.addClass("mfp-loading"),u.findImageSize(t))),e}}});var L;h.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(t){return t.is("img")?t:t.find("img")}},proto:{initZoom:function(){var t,r=u.st.zoom,e=".zoom";if(r.enabled&&u.supportsTransition){var o,n,i=r.duration,s=function(t){var e=t.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),o="all "+r.duration/1e3+"s "+r.easing,n={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},i="transition";return n["-webkit-"+i]=n["-moz-"+i]=n["-o-"+i]=n[i]=o,e.css(n),e},a=function(){u.content.css("visibility","visible")};w("BuildControls"+e,function(){if(u._allowZoom()){if(clearTimeout(o),u.content.css("visibility","hidden"),!(t=u._getItemToZoom()))return void a();(n=s(t)).css(u._getOffset()),u.wrap.append(n),o=setTimeout(function(){n.css(u._getOffset(!0)),o=setTimeout(function(){a(),setTimeout(function(){n.remove(),t=n=null,x("ZoomAnimationEnded")},16)},i)},16)}}),w(c+e,function(){if(u._allowZoom()){if(clearTimeout(o),u.st.removalDelay=i,!t){if(!(t=u._getItemToZoom()))return;n=s(t)}n.css(u._getOffset(!0)),u.wrap.append(n),u.content.css("visibility","hidden"),setTimeout(function(){n.css(u._getOffset())},16)}}),w(l+e,function(){u._allowZoom()&&(a(),n&&n.remove(),t=null)})}},_allowZoom:function(){return"image"===u.currItem.type},_getItemToZoom:function(){return!!u.currItem.hasSize&&u.currItem.img},_getOffset:function(t){var e,o=(e=t?u.currItem.img:u.st.zoom.opener(u.currItem.el||u.currItem)).offset(),n=parseInt(e.css("padding-top"),10),i=parseInt(e.css("padding-bottom"),10);o.top-=h(window).scrollTop()-n;var r={width:e.width(),height:(a?e.innerHeight():e[0].offsetHeight)-i-n};return void 0===L&&(L=void 0!==document.createElement("p").style.MozTransform),L?r["-moz-transform"]=r.transform="translate("+o.left+"px,"+o.top+"px)":(r.left=o.left,r.top=o.top),r}}});var z="iframe",F=function(t){if(u.currTemplate[z]){var e=u.currTemplate[z].find("iframe");e.length&&(t||(e[0].src="//about:blank"),u.isIE8&&e.css("display",t?"block":"none"))}};h.magnificPopup.registerModule(z,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){u.types.push(z),w("BeforeChange",function(t,e,o){e!==o&&(e===z?F():o===z&&F(!0))}),w(l+"."+z,function(){F()})},getIframe:function(t,e){var o=t.src,n=u.st.iframe;h.each(n.patterns,function(){return-1<o.indexOf(this.index)?(this.id&&(o="string"==typeof this.id?o.substr(o.lastIndexOf(this.id)+this.id.length,o.length):this.id.call(this,o)),o=this.src.replace("%id%",o),!1):void 0});var i={};return n.srcAction&&(i[n.srcAction]=o),u._parseMarkup(e,i,t),u.updateStatus("ready"),e}}});var H=function(t){var e=u.items.length;return e-1<t?t-e:t<0?e+t:t},D=function(t,e,o){return t.replace(/%curr%/gi,e+1).replace(/%total%/gi,o)};h.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var r=u.st.gallery,t=".mfp-gallery",i=Boolean(h.fn.mfpFastClick);return u.direction=!0,!(!r||!r.enabled)&&(d+=" mfp-gallery",w(m+t,function(){r.navigateByImgClick&&u.wrap.on("click"+t,".mfp-img",function(){return 1<u.items.length?(u.next(),!1):void 0}),p.on("keydown"+t,function(t){37===t.keyCode?u.prev():39===t.keyCode&&u.next()})}),w("UpdateStatus"+t,function(t,e){e.text&&(e.text=D(e.text,u.currItem.index,u.items.length))}),w(f+t,function(t,e,o,n){var i=u.items.length;o.counter=1<i?D(r.tCounter,n.index,i):""}),w("BuildControls"+t,function(){if(1<u.items.length&&r.arrows&&!u.arrowLeft){var t=r.arrowMarkup,e=u.arrowLeft=h(t.replace(/%title%/gi,r.tPrev).replace(/%dir%/gi,"left")).addClass(s),o=u.arrowRight=h(t.replace(/%title%/gi,r.tNext).replace(/%dir%/gi,"right")).addClass(s),n=i?"mfpFastClick":"click";e[n](function(){u.prev()}),o[n](function(){u.next()}),u.isIE7&&(b("b",e[0],!1,!0),b("a",e[0],!1,!0),b("b",o[0],!1,!0),b("a",o[0],!1,!0)),u.container.append(e.add(o))}}),w("Change"+t,function(){u._preloadTimeout&&clearTimeout(u._preloadTimeout),u._preloadTimeout=setTimeout(function(){u.preloadNearbyImages(),u._preloadTimeout=null},16)}),void w(l+t,function(){p.off(t),u.wrap.off("click"+t),u.arrowLeft&&i&&u.arrowLeft.add(u.arrowRight).destroyMfpFastClick(),u.arrowRight=u.arrowLeft=null}))},next:function(){u.direction=!0,u.index=H(u.index+1),u.updateItemHTML()},prev:function(){u.direction=!1,u.index=H(u.index-1),u.updateItemHTML()},goTo:function(t){u.direction=t>=u.index,u.index=t,u.updateItemHTML()},preloadNearbyImages:function(){var t,e=u.st.gallery.preload,o=Math.min(e[0],u.items.length),n=Math.min(e[1],u.items.length);for(t=1;t<=(u.direction?n:o);t++)u._preloadItem(u.index+t);for(t=1;t<=(u.direction?o:n);t++)u._preloadItem(u.index-t)},_preloadItem:function(t){if(t=H(t),!u.items[t].preloaded){var e=u.items[t];e.parsed||(e=u.parseEl(t)),x("LazyLoad",e),"image"===e.type&&(e.img=h('<img class="mfp-img" />').on("load.mfploader",function(){e.hasSize=!0}).on("error.mfploader",function(){e.hasSize=!0,e.loadError=!0,x("LazyLoadError",e)}).attr("src",e.src)),e.preloaded=!0}}}});var B,$,j,N="retina";h.magnificPopup.registerModule(N,{options:{replaceSrc:function(t){return t.src.replace(/\.\w+$/,function(t){return"@2x"+t})},ratio:1},proto:{initRetina:function(){if(1<window.devicePixelRatio){var o=u.st.retina,n=o.ratio;1<(n=isNaN(n)?n():n)&&(w("ImageHasSize."+N,function(t,e){e.img.css({"max-width":e.img[0].naturalWidth/n,width:"100%"})}),w("ElementParse."+N,function(t,e){e.src=o.replaceSrc(e,n)}))}}}}),B="ontouchstart"in window,$=function(){y.off("touchmove"+j+" touchend"+j)},j=".mfpFastClick",h.fn.mfpFastClick=function(l){return h(this).each(function(){var e,o,n,i,r,s,a,t=h(this);B&&t.on("touchstart"+j,function(t){r=!1,a=1,s=t.originalEvent?t.originalEvent.touches[0]:t.touches[0],n=s.clientX,i=s.clientY,y.on("touchmove"+j,function(t){s=t.originalEvent?t.originalEvent.touches:t.touches,a=s.length,s=s[0],(10<Math.abs(s.clientX-n)||10<Math.abs(s.clientY-i))&&(r=!0,$())}).on("touchend"+j,function(t){$(),r||1<a||(e=!0,t.preventDefault(),clearTimeout(o),o=setTimeout(function(){e=!1},1e3),l())})}),t.on("click"+j,function(){e||l()})})},h.fn.destroyMfpFastClick=function(){h(this).off("touchstart"+j+" click"+j),B&&y.off("touchmove"+j+" touchend"+j)},r()}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(i){"use strict";var r=[],e=[],n={precision:100,elapse:!1};e.push(/^[0-9]*$/.source),e.push(/([0-9]{1,2}\/){2}[0-9]{4}( [0-9]{1,2}(:[0-9]{2}){2})?/.source),e.push(/[0-9]{4}([\/\-][0-9]{1,2}){2}( [0-9]{1,2}(:[0-9]{2}){2})?/.source),e=new RegExp(e.join("|"));var g={Y:"years",m:"months",n:"daysToMonth",w:"weeks",d:"daysToWeek",D:"totalDays",H:"hours",M:"minutes",S:"seconds"},s=function(t,e,o){this.el=t,this.$el=i(t),this.interval=null,this.offset={},this.options=i.extend({},n),this.instanceNumber=r.length,r.push(this),this.$el.data("countdown-instance",this.instanceNumber),o&&("function"==typeof o?(this.$el.on("update.countdown",o),this.$el.on("stoped.countdown",o),this.$el.on("finish.countdown",o)):this.options=i.extend({},n,o)),this.setFinalDate(e),this.start()};i.extend(s.prototype,{start:function(){null!==this.interval&&clearInterval(this.interval);var t=this;this.update(),this.interval=setInterval(function(){t.update.call(t)},this.options.precision)},stop:function(){clearInterval(this.interval),this.interval=null,this.dispatchEvent("stoped")},toggle:function(){this.interval?this.stop():this.start()},pause:function(){this.stop()},resume:function(){this.start()},remove:function(){this.stop.call(this),r[this.instanceNumber]=null,delete this.$el.data().countdownInstance},setFinalDate:function(t){this.finalDate=function(t){if(t instanceof Date)return t;if(String(t).match(e))return String(t).match(/^[0-9]*$/)&&(t=Number(t)),String(t).match(/\-/)&&(t=String(t).replace(/\-/g,"/")),new Date(t);throw new Error("Couldn't cast `"+t+"` to a date object.")}(t)},update:function(){if(0!==this.$el.closest("html").length){var t,e=void 0!==i._data(this.el,"events"),o=new Date;t=this.finalDate.getTime()-o.getTime(),t=Math.ceil(t/1e3),t=!this.options.elapse&&t<0?0:Math.abs(t),this.totalSecsLeft!==t&&e&&(this.totalSecsLeft=t,this.elapsed=o>=this.finalDate,this.offset={seconds:this.totalSecsLeft%60,minutes:Math.floor(this.totalSecsLeft/60)%60,hours:Math.floor(this.totalSecsLeft/60/60)%24,days:Math.floor(this.totalSecsLeft/60/60/24)%7,daysToWeek:Math.floor(this.totalSecsLeft/60/60/24)%7,daysToMonth:Math.floor(this.totalSecsLeft/60/60/24%30.4368),totalDays:Math.floor(this.totalSecsLeft/60/60/24),weeks:Math.floor(this.totalSecsLeft/60/60/24/7),months:Math.floor(this.totalSecsLeft/60/60/24/30.4368),years:Math.abs(this.finalDate.getFullYear()-o.getFullYear())},this.options.elapse||0!==this.totalSecsLeft?this.dispatchEvent("update"):(this.stop(),this.dispatchEvent("finish")))}else this.remove()},dispatchEvent:function(t){var m,e=i.Event(t+".countdown");e.finalDate=this.finalDate,e.elapsed=this.elapsed,e.offset=i.extend({},this.offset),e.strftime=(m=this.offset,function(t){var e,o,n,i,r,s,a=t.match(/%(-|!)?[A-Z]{1}(:[^;]+;)?/gi);if(a)for(var l=0,c=a.length;l<c;++l){var h=a[l].match(/%(-|!)?([a-zA-Z]{1})(:[^;]+;)?/),u=(r=h[0],s=r.toString().replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),new RegExp(s)),p=h[1]||"",d=h[3]||"",f=null;h=h[2],g.hasOwnProperty(h)&&(f=g[h],f=Number(m[f])),null!==f&&("!"===p&&(o=f,i=n=void 0,n="s",i="",(e=d)&&(e=e.replace(/(:|;|\s)/gi,"").split(/\,/),n=1===e.length?e[0]:(i=e[0],e[1])),f=1===Math.abs(o)?i:n),""===p&&f<10&&(f="0"+f.toString()),t=t.replace(u,f.toString()))}return t.replace(/%%/,"%")}),this.$el.trigger(e)}}),i.fn.countdown=function(){var n=Array.prototype.slice.call(arguments,0);return this.each(function(){var t=i(this).data("countdown-instance");if(void 0!==t){var e=r[t],o=n[0];s.prototype.hasOwnProperty(o)?e[o].apply(e,n.slice(1)):null===String(o).match(/^[$A-Z_][0-9A-Z_$]*$/i)?(e.setFinalDate.call(e,o),e.start()):i.error("Method %s does not exist on jQuery.countdown".replace(/\%s/gi,o))}else new s(this,n[0],n[1])})}}),function(e){"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t,window,document)}):"object"==typeof exports?module.exports=e(require("jquery"),window,document):e(jQuery,window,document)}(function(n,r,i){"use strict";var u,p,o,c,e,h,d,f,s,a,l,m,g,v,y,w,b,x,_,S,C,T,k;w={paneClass:"nano-pane",sliderClass:"nano-slider",contentClass:"nano-content",enabledClass:"has-scrollbar",flashedClass:"flashed",activeClass:"active",iOSNativeScrolling:!1,preventPageScrolling:!1,disableResize:!1,alwaysVisible:!1,flashDelay:1500,sliderMinHeight:20,sliderMaxHeight:null,documentContext:null,windowContext:null},m="scroll",e="mousedown",h="mouseenter",d="mousemove",s="mousewheel",f="mouseup",l="resize",v="up",o="DOMMouseScroll",c="down",g="touchmove",u="Microsoft Internet Explorer"===r.navigator.appName&&/msie 7./i.test(r.navigator.appVersion)&&r.ActiveXObject,p=null,S=r.requestAnimationFrame,y=r.cancelAnimationFrame,T=i.createElement("div").style,k=function(){var t,e,o,n;for(t=o=0,n=(e=["t","webkitT","MozT","msT","OT"]).length;o<n;t=++o)if(e[t],e[t]+"ransform"in T)return e[t].substr(0,e[t].length-1);return!1}(),C=function(t){return!1!==k&&(""===k?t:k+t.charAt(0).toUpperCase()+t.substr(1))}("transform"),x=!1!==C,b=function(){var t,e,o;return(e=(t=i.createElement("div")).style).position="absolute",e.width="100px",e.height="100px",e.overflow=m,e.top="-9999px",i.body.appendChild(t),o=t.offsetWidth-t.clientWidth,i.body.removeChild(t),o},_=function(){var t,e,o;return e=r.navigator.userAgent,!!(t=/(?=.+Mac OS X)(?=.+Firefox)/.test(e))&&((o=/Firefox\/\d{2}\./.exec(e))&&(o=o[0].replace(/\D+/g,"")),t&&23<+o)},a=function(){function t(t,e){this.el=t,this.options=e,p||(p=b()),this.$el=n(this.el),this.doc=n(this.options.documentContext||i),this.win=n(this.options.windowContext||r),this.body=this.doc.find("body"),this.$content=this.$el.children("."+this.options.contentClass),this.$content.attr("tabindex",this.options.tabIndex||0),this.content=this.$content[0],this.previousPosition=0,this.options.iOSNativeScrolling&&null!=this.el.style.WebkitOverflowScrolling?this.nativeScrolling():this.generate(),this.createEvents(),this.addEvents(),this.reset()}return t.prototype.preventScrolling=function(t,e){if(this.isActive)if(t.type===o)(e===c&&0<t.originalEvent.detail||e===v&&t.originalEvent.detail<0)&&t.preventDefault();else if(t.type===s){if(!t.originalEvent||!t.originalEvent.wheelDelta)return;(e===c&&t.originalEvent.wheelDelta<0||e===v&&0<t.originalEvent.wheelDelta)&&t.preventDefault()}},t.prototype.nativeScrolling=function(){this.$content.css({WebkitOverflowScrolling:"touch"}),this.iOSNativeScrolling=!0,this.isActive=!0},t.prototype.updateScrollValues=function(){var t,e;t=this.content,this.maxScrollTop=t.scrollHeight-t.clientHeight,this.prevScrollTop=this.contentScrollTop||0,this.contentScrollTop=t.scrollTop,e=this.contentScrollTop>this.previousPosition?"down":this.contentScrollTop<this.previousPosition?"up":"same",this.previousPosition=this.contentScrollTop,"same"!==e&&this.$el.trigger("update",{position:this.contentScrollTop,maximum:this.maxScrollTop,direction:e}),this.iOSNativeScrolling||(this.maxSliderTop=this.paneHeight-this.sliderHeight,this.sliderTop=0===this.maxScrollTop?0:this.contentScrollTop*this.maxSliderTop/this.maxScrollTop)},t.prototype.setOnScrollStyles=function(){var t,e;x?(t={})[C]="translate(0, "+this.sliderTop+"px)":t={top:this.sliderTop},S?(y&&this.scrollRAF&&y(this.scrollRAF),this.scrollRAF=S((e=this,function(){return e.scrollRAF=null,e.slider.css(t)}))):this.slider.css(t)},t.prototype.createEvents=function(){var o,n,e,i,r,s,a,l;this.events={down:(l=this,function(t){return l.isBeingDragged=!0,l.offsetY=t.pageY-l.slider.offset().top,l.slider.is(t.target)||(l.offsetY=0),l.pane.addClass(l.options.activeClass),l.doc.bind(d,l.events.drag).bind(f,l.events.up),l.body.bind(h,l.events.enter),!1}),drag:(a=this,function(t){return a.sliderY=t.pageY-a.$el.offset().top-a.paneTop-(a.offsetY||.5*a.sliderHeight),a.scroll(),a.contentScrollTop>=a.maxScrollTop&&a.prevScrollTop!==a.maxScrollTop?a.$el.trigger("scrollend"):0===a.contentScrollTop&&0!==a.prevScrollTop&&a.$el.trigger("scrolltop"),!1}),up:(s=this,function(t){return s.isBeingDragged=!1,s.pane.removeClass(s.options.activeClass),s.doc.unbind(d,s.events.drag).unbind(f,s.events.up),s.body.unbind(h,s.events.enter),!1}),resize:(r=this,function(t){r.reset()}),panedown:(i=this,function(t){return i.sliderY=(t.offsetY||t.originalEvent.layerY)-.5*i.sliderHeight,i.scroll(),i.events.down(t),!1}),scroll:(e=this,function(t){e.updateScrollValues(),e.isBeingDragged||(e.iOSNativeScrolling||(e.sliderY=e.sliderTop,e.setOnScrollStyles()),null!=t&&(e.contentScrollTop>=e.maxScrollTop?(e.options.preventPageScrolling&&e.preventScrolling(t,c),e.prevScrollTop!==e.maxScrollTop&&e.$el.trigger("scrollend")):0===e.contentScrollTop&&(e.options.preventPageScrolling&&e.preventScrolling(t,v),0!==e.prevScrollTop&&e.$el.trigger("scrolltop"))))}),wheel:(n=this,function(t){var e;if(null!=t)return(e=t.delta||t.wheelDelta||t.originalEvent&&t.originalEvent.wheelDelta||-t.detail||t.originalEvent&&-t.originalEvent.detail)&&(n.sliderY+=-e/3),n.scroll(),!1}),enter:(o=this,function(t){var e;if(o.isBeingDragged)return 1!==(t.buttons||t.which)?(e=o.events).up.apply(e,arguments):void 0})}},t.prototype.addEvents=function(){var t;this.removeEvents(),t=this.events,this.options.disableResize||this.win.bind(l,t[l]),this.iOSNativeScrolling||(this.slider.bind(e,t[c]),this.pane.bind(e,t.panedown).bind(s+" "+o,t.wheel)),this.$content.bind(m+" "+s+" "+o+" "+g,t[m])},t.prototype.removeEvents=function(){var t;t=this.events,this.win.unbind(l,t[l]),this.iOSNativeScrolling||(this.slider.unbind(),this.pane.unbind()),this.$content.unbind(m+" "+s+" "+o+" "+g,t[m])},t.prototype.generate=function(){var t,e,o,n,i;return n=(e=this.options).paneClass,i=e.sliderClass,e.contentClass,(o=this.$el.children("."+n)).length||o.children("."+i).length||this.$el.append('<div class="'+n+'"><div class="'+i+'" /></div>'),this.pane=this.$el.children("."+n),this.slider=this.pane.find("."+i),0===p&&_()?t={right:-14,paddingRight:+r.getComputedStyle(this.content,null).getPropertyValue("padding-right").replace(/[^0-9.]+/g,"")+14}:p&&(t={right:-p},this.$el.addClass(e.enabledClass)),null!=t&&this.$content.css(t),this},t.prototype.restore=function(){this.stopped=!1,this.iOSNativeScrolling||this.pane.show(),this.addEvents()},t.prototype.reset=function(){var t,e,o,n,i,r,s,a,l,c,h;return this.iOSNativeScrolling?void(this.contentHeight=this.content.scrollHeight):(this.$el.find("."+this.options.paneClass).length||this.generate().stop(),this.stopped&&this.restore(),i=(n=(t=this.content).style).overflowY,u&&this.$content.css({height:this.$content.height()}),e=t.scrollHeight+p,0<(l=parseInt(this.$el.css("max-height"),10))&&(this.$el.height(""),this.$el.height(t.scrollHeight>l?l:t.scrollHeight)),s=(r=this.pane.outerHeight(!1))+(a=parseInt(this.pane.css("top"),10))+parseInt(this.pane.css("bottom"),10),(h=Math.round(s/e*r))<this.options.sliderMinHeight?h=this.options.sliderMinHeight:null!=this.options.sliderMaxHeight&&h>this.options.sliderMaxHeight&&(h=this.options.sliderMaxHeight),i===m&&n.overflowX!==m&&(h+=p),this.maxSliderTop=s-h,this.contentHeight=e,this.paneHeight=r,this.paneOuterHeight=s,this.sliderHeight=h,this.paneTop=a,this.slider.height(h),this.events.scroll(),this.pane.show(),this.isActive=!0,t.scrollHeight===t.clientHeight||this.pane.outerHeight(!0)>=t.scrollHeight&&i!==m?(this.pane.hide(),this.isActive=!1):this.el.clientHeight===t.scrollHeight&&i===m?this.slider.hide():this.slider.show(),this.pane.css({opacity:this.options.alwaysVisible?1:"",visibility:this.options.alwaysVisible?"visible":""}),("static"===(o=this.$content.css("position"))||"relative"===o)&&((c=parseInt(this.$content.css("right"),10))&&this.$content.css({right:"",marginRight:c})),this)},t.prototype.scroll=function(){return this.isActive?(this.sliderY=Math.max(0,this.sliderY),this.sliderY=Math.min(this.maxSliderTop,this.sliderY),this.$content.scrollTop(this.maxScrollTop*this.sliderY/this.maxSliderTop),this.iOSNativeScrolling||(this.updateScrollValues(),this.setOnScrollStyles()),this):void 0},t.prototype.scrollBottom=function(t){return this.isActive?(this.$content.scrollTop(this.contentHeight-this.$content.height()-t).trigger(s),this.stop().restore(),this):void 0},t.prototype.scrollTop=function(t){return this.isActive?(this.$content.scrollTop(+t).trigger(s),this.stop().restore(),this):void 0},t.prototype.scrollTo=function(t){return this.isActive?(this.scrollTop(this.$el.find(t).get(0).offsetTop),this):void 0},t.prototype.stop=function(){return y&&this.scrollRAF&&(y(this.scrollRAF),this.scrollRAF=null),this.stopped=!0,this.removeEvents(),this.iOSNativeScrolling||this.pane.hide(),this},t.prototype.destroy=function(){return this.stopped||this.stop(),!this.iOSNativeScrolling&&this.pane.length&&this.pane.remove(),u&&this.$content.height(""),this.$content.removeAttr("tabindex"),this.$el.hasClass(this.options.enabledClass)&&(this.$el.removeClass(this.options.enabledClass),this.$content.css({right:""})),this},t.prototype.flash=function(){return!this.iOSNativeScrolling&&this.isActive?(this.reset(),this.pane.addClass(this.options.flashedClass),setTimeout((t=this,function(){t.pane.removeClass(t.options.flashedClass)}),this.options.flashDelay),this):void 0;var t},t}(),n.fn.nanoScroller=function(o){return this.each(function(){var t,e;if((e=this.nanoscroller)||(t=n.extend({},w,o),this.nanoscroller=e=new a(this,t)),o&&"object"==typeof o){if(n.extend(e.options,o),null!=o.scrollBottom)return e.scrollBottom(o.scrollBottom);if(null!=o.scrollTop)return e.scrollTop(o.scrollTop);if(o.scrollTo)return e.scrollTo(o.scrollTo);if("bottom"===o.scroll)return e.scrollBottom(0);if("top"===o.scroll)return e.scrollTop(0);if(o.scroll&&o.scroll instanceof n)return e.scrollTo(o.scroll);if(o.stop)return e.stop();if(o.destroy)return e.destroy();if(o.flash)return e.flash()}return e.reset()})},n.fn.nanoScroller.Constructor=a}),function(c,S,C){"use strict";function e(t){if(x=S.documentElement,n=S.body,j(),J=this,it=(t=t||{}).constants||{},t.easing)for(var e in t.easing)R[e]=t.easing[e];ut=t.edgeStrategy||"set",ot={beforerender:t.beforerender,render:t.render,keyframe:t.keyframe},(nt=!1!==t.forceHeight)&&(Mt=t.scale||1),rt=t.mobileDeceleration||h,at=!1!==t.smoothScrolling,lt=t.smoothScrollingDuration||p,ct={targetTop:J.getScrollTop()},(Ht=(t.mobileCheck||function(){return/Android|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent||navigator.vendor||c.opera)})())?((et=S.getElementById(t.skrollrBody||u))&&Q(),W(),_t(x,[r,l],[s])):_t(x,[r,a],[s]),J.refresh(),ft(c,"resize orientationchange",function(){var t=x.clientWidth,e=x.clientHeight;(e!==Lt||t!==At)&&(Lt=e,At=t,zt=!0)});var o=N();return function t(){Y(),dt=o(t)}(),J}var x,n,T={get:function(){return J},init:function(t){return J||new e(t)},VERSION:"0.6.30"},k=Object.prototype.hasOwnProperty,_=c.Math,i=c.getComputedStyle,E="touchstart",M="touchmove",I="touchcancel",O="touchend",P="skrollable",A=P+"-before",L=P+"-between",z=P+"-after",r="skrollr",s="no-"+r,a=r+"-desktop",l=r+"-mobile",h=.004,u="skrollr-body",p=200,F="___skrollable_id",H=/^(?:input|textarea|button|select)$/i,o=/^\s+|\s+$/g,D=/^data(?:-(_\w+))?(?:-?(-?\d*\.?\d+p?))?(?:-?(start|end|top|center|bottom))?(?:-?(top|center|bottom))?$/,d=/\s*(@?[\w\-\[\]]+)\s*:\s*(.+?)\s*(?:;|$)/gi,f=/^(@?[a-z\-]+)\[(\w+)\]$/,B=/-([a-z0-9_])/g,$=function(t,e){return e.toUpperCase()},m=/[\-+]?[\d]*\.?[\d]+/g,g=/\{\?\}/g,v=/rgba?\(\s*-?\d+\s*,\s*-?\d+\s*,\s*-?\d+/g,y=/[a-z\-]+-gradient/g,w="",b="",j=function(){var t=/^(?:O|Moz|webkit|ms)|(?:-(?:o|moz|webkit|ms)-)/;if(i){var e=i(n,null);for(var o in e)if(w=o.match(t)||+o==o&&e[o].match(t))break;if(!w)return void(w=b="");"-"===(w=w[0]).slice(0,1)?w={"-webkit-":"webkit","-moz-":"Moz","-ms-":"ms","-o-":"O"}[b=w]:b="-"+w.toLowerCase()+"-"}},N=function(){var t=c.requestAnimationFrame||c[w.toLowerCase()+"RequestAnimationFrame"],n=Tt();return(Ht||!t)&&(t=function(t){var e=Tt()-n,o=_.max(0,1e3/60-e);return c.setTimeout(function(){n=Tt(),t()},o)}),t},R={begin:function(){return 0},end:function(){return 1},linear:function(t){return t},quadratic:function(t){return t*t},cubic:function(t){return t*t*t},swing:function(t){return-_.cos(t*_.PI)/2+.5},sqrt:function(t){return _.sqrt(t)},outCubic:function(t){return _.pow(t-1,3)+1},bounce:function(t){var e;if(t<=.5083)e=3;else if(t<=.8489)e=9;else if(t<=.96208)e=27;else{if(!(t<=.99981))return 1;e=91}return 1-_.abs(3*_.cos(t*e*1.028)/e)}};e.prototype.refresh=function(t){var e,o,n=!1;for(t===C?(n=!0,tt=[],Ft=0,t=S.getElementsByTagName("*")):t.length===C&&(t=[t]),e=0,o=t.length;e<o;e++){var i=t[e],r=i,s=[],a=at,l=ut,c=!1;if(n&&F in i&&delete i[F],i.attributes){for(var h=0,u=i.attributes.length;h<u;h++){var p=i.attributes[h];if("data-anchor-target"!==p.name)if("data-smooth-scrolling"!==p.name)if("data-edge-strategy"!==p.name)if("data-emit-events"!==p.name){var d=p.name.match(D);if(null!==d){var f={props:p.value,element:i,eventType:p.name.replace(B,$)};s.push(f);var m=d[1];m&&(f.constant=m.substr(1));var g=d[2];/p$/.test(g)?(f.isPercentage=!0,f.offset=(0|g.slice(0,-1))/100):f.offset=0|g;var v=d[3],y=d[4]||v;v&&"start"!==v&&"end"!==v?(f.mode="relative",f.anchors=[v,y]):(f.mode="absolute","end"===v?f.isEnd=!0:f.isPercentage||(f.offset=f.offset*Mt))}}else c=!0;else l=p.value;else a="off"!==p.value;else if(null===(r=S.querySelector(p.value)))throw'Unable to find anchor target "'+p.value+'"'}var w,b,x;if(s.length)b=!n&&F in i?(x=i[F],w=tt[x].styleAttr,tt[x].classAttr):(x=i[F]=Ft++,w=i.style.cssText,xt(i)),tt[x]={element:i,styleAttr:w,classAttr:b,anchorTarget:r,keyFrames:s,smoothScrolling:a,edgeStrategy:l,emitEvents:c,lastFrameIndex:-1},_t(i,[P],[])}}for(yt(),e=0,o=t.length;e<o;e++){var _=tt[t[e][F]];_!==C&&(q(_),U(_))}return J},e.prototype.relativeToAbsolute=function(t,e,o){var n=x.clientHeight,i=t.getBoundingClientRect(),r=i.top,s=i.bottom-i.top;return"bottom"===e?r-=n:"center"===e&&(r-=n/2),"bottom"===o?r+=s:"center"===o&&(r+=s/2),(r+=J.getScrollTop())+.5|0},e.prototype.animateTo=function(t,e){e=e||{};var o=Tt(),n=J.getScrollTop(),i=e.duration===C?1e3:e.duration;return(st={startTop:n,topDiff:t-n,targetTop:t,duration:i,startTime:o,endTime:o+i,easing:R[e.easing||"linear"],done:e.done}).topDiff||(st.done&&st.done.call(J,!1),st=C),J},e.prototype.stopAnimateTo=function(){st&&st.done&&st.done.call(J,!0),st=C},e.prototype.isAnimatingTo=function(){return!!st},e.prototype.isMobile=function(){return Ht},e.prototype.setScrollTop=function(t,e){return ht=!0===e,Ht?Dt=_.min(_.max(t,0),Et):c.scrollTo(0,t),J},e.prototype.getScrollTop=function(){return Ht?Dt:c.pageYOffset||x.scrollTop||n.scrollTop||0},e.prototype.getMaxScrollTop=function(){return Et},e.prototype.on=function(t,e){return ot[t]=e,J},e.prototype.off=function(t){return delete ot[t],J},e.prototype.destroy=function(){var t;(t=c.cancelAnimationFrame||c[w.toLowerCase()+"CancelAnimationFrame"],(Ht||!t)&&(t=function(t){return c.clearTimeout(t)}),t)(dt),gt(),_t(x,[s],[r,a,l]);for(var e=0,o=tt.length;e<o;e++)K(tt[e].element);x.style.overflow=n.style.overflow="",x.style.height=n.style.height="",et&&T.setStyle(et,"transform","none"),It="down",Ht=zt=!(Ot=-(Mt=1)),Dt=Ft=Lt=At=Et=0,pt=ut=ht=ct=lt=at=st=rt=it=nt=ot=et=J=C};var W=function(){var h,u,p,d,f,m,g,v,y,w,b;ft(x,[E,M,I,O].join(" "),function(t){var e=t.changedTouches[0];for(d=t.target;3===d.nodeType;)d=d.parentNode;switch(f=e.clientY,m=e.clientX,y=t.timeStamp,H.test(d.tagName)||t.preventDefault(),t.type){case E:h&&h.blur(),J.stopAnimateTo(),h=d,u=g=f,p=m,y;break;case M:H.test(d.tagName)&&S.activeElement!==d&&t.preventDefault(),v=f-g,b=y-w,J.setScrollTop(Dt-v,!0),g=f,w=y;break;default:case I:case O:var o=u-f,n=p-m;if(n*n+o*o<49){if(!H.test(h.tagName)){h.focus();var i=S.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,t.view,1,e.screenX,e.screenY,e.clientX,e.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,0,null),h.dispatchEvent(i)}return}h=C;var r=v/b;r=_.max(_.min(r,3),-3);var s=_.abs(r/rt),a=r*s+.5*rt*s*s,l=J.getScrollTop()-a,c=0;Et<l?(c=(Et-l)/a,l=Et):l<0&&(c=-l/a,l=0),s*=1-c,J.animateTo(l+.5|0,{easing:"outCubic",duration:s})}}),c.scrollTo(0,0),x.style.overflow=n.style.overflow="hidden"},Y=function(){zt&&(zt=!1,yt());var t,e,o=J.getScrollTop(),n=Tt();if(st)n>=st.endTime?(o=st.targetTop,t=st.done,st=C):(e=st.easing((n-st.startTime)/st.duration),o=st.startTop+e*st.topDiff|0),J.setScrollTop(o,!0);else if(!ht){ct.targetTop-o&&(ct={startTop:Ot,topDiff:o-Ot,targetTop:o,startTime:Pt,endTime:Pt+lt}),n<=ct.endTime&&(e=R.sqrt((n-ct.startTime)/lt),o=ct.startTop+e*ct.topDiff|0)}if(ht||Ot!==o){var i={curTop:o,lastTop:Ot,maxTop:Et,direction:It=Ot<o?"down":o<Ot?"up":It};(ht=!1)!==(ot.beforerender&&ot.beforerender.call(J,i))&&(function(t,e){for(var o=0,n=tt.length;o<n;o++){var i,r,s=tt[o],a=s.element,l=s.smoothScrolling?t:e,c=s.keyFrames,h=c.length,u=c[0],p=c[c.length-1],d=l<u.frame,f=l>p.frame,m=d?u:p,g=s.emitEvents,v=s.lastFrameIndex;if(d||f){if(d&&-1===s.edge||f&&1===s.edge)continue;switch(d?(_t(a,[A],[z,L]),g&&-1<v&&(vt(a,u.eventType,It),s.lastFrameIndex=-1)):(_t(a,[z],[A,L]),g&&v<h&&(vt(a,p.eventType,It),s.lastFrameIndex=h)),s.edge=d?-1:1,s.edgeStrategy){case"reset":K(a);continue;case"ease":l=m.frame;break;default:case"set":var y=m.props;for(i in y)k.call(y,i)&&(r=G(y[i].value),0===i.indexOf("@")?a.setAttribute(i.substr(1),r):T.setStyle(a,i,r));continue}}else 0!==s.edge&&(_t(a,[P,L],[A,z]),s.edge=0);for(var w=0;w<h-1;w++)if(l>=c[w].frame&&l<=c[w+1].frame){var b=c[w],x=c[w+1];for(i in b.props)if(k.call(b.props,i)){var _=(l-b.frame)/(x.frame-b.frame);_=b.props[i].easing(_),r=X(b.props[i].value,x.props[i].value,_),r=G(r),0===i.indexOf("@")?a.setAttribute(i.substr(1),r):T.setStyle(a,i,r)}g&&v!==w&&(vt(a,"down"===It?b.eventType:x.eventType,It),s.lastFrameIndex=w);break}}}(o,J.getScrollTop()),Ht&&et&&T.setStyle(et,"transform","translate(0, "+-Dt+"px) "+pt),Ot=o,ot.render&&ot.render.call(J,i)),t&&t.call(J,!1)}Pt=n},q=function(t){for(var e=0,o=t.keyFrames.length;e<o;e++){for(var n,i,r,s,a=t.keyFrames[e],l={};null!==(s=d.exec(a.props));)r=s[1],i=s[2],n=null!==(n=r.match(f))?(r=n[1],n[2]):"linear",i=i.indexOf("!")?V(i):[i.slice(1)],l[r]={value:i,easing:R[n]};a.props=l}},V=function(t){var e=[];return v.lastIndex=0,t=t.replace(v,function(t){return t.replace(m,function(t){return t/255*100+"%"})}),b&&(y.lastIndex=0,t=t.replace(y,function(t){return b+t})),t=t.replace(m,function(t){return e.push(+t),"{?}"}),e.unshift(t),e},U=function(t){var e,o,n={};for(e=0,o=t.keyFrames.length;e<o;e++)Z(t.keyFrames[e],n);for(n={},e=t.keyFrames.length-1;0<=e;e--)Z(t.keyFrames[e],n)},Z=function(t,e){var o;for(o in e)k.call(t.props,o)||(t.props[o]=e[o]);for(o in t.props)e[o]=t.props[o]},X=function(t,e,o){var n,i=t.length;if(i!==e.length)throw"Can't interpolate between \""+t[0]+'" and "'+e[0]+'"';var r=[t[0]];for(n=1;n<i;n++)r[n]=t[n]+(e[n]-t[n])*o;return r},G=function(t){var e=1;return g.lastIndex=0,t[0].replace(g,function(){return t[e++]})},K=function(t,e){for(var o,n,i=0,r=(t=[].concat(t)).length;i<r;i++)n=t[i],(o=tt[n[F]])&&(e?(n.style.cssText=o.dirtyStyleAttr,_t(n,o.dirtyClassAttr)):(o.dirtyStyleAttr=n.style.cssText,o.dirtyClassAttr=xt(n),n.style.cssText=o.styleAttr,_t(n,o.classAttr)))},Q=function(){pt="translateZ(0)",T.setStyle(et,"transform",pt);var t=i(et),e=t.getPropertyValue("transform"),o=t.getPropertyValue(b+"transform");e&&"none"!==e||o&&"none"!==o||(pt="")};T.setStyle=function(t,e,o){var n=t.style;if("zIndex"===(e=e.replace(B,$).replace("-","")))isNaN(o)?n[e]=o:n[e]=""+(0|o);else if("float"===e)n.styleFloat=n.cssFloat=o;else try{w&&(n[w+e.slice(0,1).toUpperCase()+e.slice(1)]=o),n[e]=o}catch(t){}};var J,tt,et,ot,nt,it,rt,st,at,lt,ct,ht,ut,pt,dt,ft=T.addEvent=function(t,e,o){for(var n,i=function(t){return(t=t||c.event).target||(t.target=t.srcElement),t.preventDefault||(t.preventDefault=function(){t.returnValue=!1,t.defaultPrevented=!0}),o.call(this,t)},r=0,s=(e=e.split(" ")).length;r<s;r++)n=e[r],t.addEventListener?t.addEventListener(n,o,!1):t.attachEvent("on"+n,i),Bt.push({element:t,name:n,listener:o})},mt=T.removeEvent=function(t,e,o){for(var n=0,i=(e=e.split(" ")).length;n<i;n++)t.removeEventListener?t.removeEventListener(e[n],o,!1):t.detachEvent("on"+e[n],o)},gt=function(){for(var t,e=0,o=Bt.length;e<o;e++)t=Bt[e],mt(t.element,t.name,t.listener);Bt=[]},vt=function(t,e,o){ot.keyframe&&ot.keyframe.call(J,t,e,o)},yt=function(){var t=J.getScrollTop();Et=0,nt&&!Ht&&(n.style.height=""),function(){var t,e,o,n,i,r,s,a,l,c,h,u=x.clientHeight,p=wt();for(a=0,l=tt.length;a<l;a++)for(e=(t=tt[a]).element,o=t.anchorTarget,i=0,r=(n=t.keyFrames).length;i<r;i++)c=(s=n[i]).offset,h=p[s.constant]||0,s.frame=c,s.isPercentage&&(c*=u,s.frame=c),"relative"===s.mode&&(K(e),s.frame=J.relativeToAbsolute(o,s.anchors[0],s.anchors[1])-c,K(e,!0)),s.frame+=h,nt&&!s.isEnd&&s.frame>Et&&(Et=s.frame);for(Et=_.max(Et,bt()),a=0,l=tt.length;a<l;a++){for(i=0,r=(n=(t=tt[a]).keyFrames).length;i<r;i++)h=p[(s=n[i]).constant]||0,s.isEnd&&(s.frame=Et-s.offset+h);t.keyFrames.sort(kt)}}(),nt&&!Ht&&(n.style.height=Et+x.clientHeight+"px"),Ht?J.setScrollTop(_.min(J.getScrollTop(),Et)):J.setScrollTop(t,!0),ht=!0},wt=function(){var t,e,o=x.clientHeight,n={};for(t in it)"function"==typeof(e=it[t])?e=e.call(J):/p$/.test(e)&&(e=e.slice(0,-1)/100*o),n[t]=e;return n},bt=function(){var t=0;return et&&(t=_.max(et.offsetHeight,et.scrollHeight)),_.max(t,n.scrollHeight,n.offsetHeight,x.scrollHeight,x.offsetHeight,x.clientHeight)-x.clientHeight},xt=function(t){var e="className";return c.SVGElement&&t instanceof c.SVGElement&&(t=t[e],e="baseVal"),t[e]},_t=function(t,e,o){var n="className";if(c.SVGElement&&t instanceof c.SVGElement&&(t=t[n],n="baseVal"),o!==C){for(var i=t[n],r=0,s=o.length;r<s;r++)i=Ct(i).replace(Ct(o[r])," ");i=St(i);for(var a=0,l=e.length;a<l;a++)-1===Ct(i).indexOf(Ct(e[a]))&&(i+=" "+e[a]);t[n]=St(i)}else t[n]=e},St=function(t){return t.replace(o,"")},Ct=function(t){return" "+t+" "},Tt=Date.now||function(){return+new Date},kt=function(t,e){return t.frame-e.frame},Et=0,Mt=1,It="down",Ot=-1,Pt=Tt(),At=0,Lt=0,zt=!1,Ft=0,Ht=!1,Dt=0,Bt=[];"function"==typeof define&&define.amd?define([],function(){return T}):"undefined"!=typeof module&&module.exports?module.exports=T:c.skrollr=T}(window,document),function(){var e,o,t=[].indexOf||function(t){for(var e=0,o=this.length;e<o;e++)if(e in this&&this[e]===t)return e;return-1},w=[].slice;e=this,o=function(l,r){var e,s,a,c,o,h,u,i,p,n,d,f,m,g,v,y;return e=l(r),i=0<=t.call(r,"ontouchstart"),c={horizontal:{},vertical:{}},u={},h="waypoints-context-id",d="resize.waypoints",f="scroll.waypoints",m=o=1,g="waypoints-waypoint-ids",v="waypoint",y="waypoints",s=function(){function t(t){var e=this;this.$element=t,this.element=t[0],this.didResize=!1,this.didScroll=!1,this.id="context"+o++,this.oldScroll={x:t.scrollLeft(),y:t.scrollTop()},this.waypoints={horizontal:{},vertical:{}},t.data(h,this.id),u[this.id]=this,t.bind(f,function(){var t;if(!e.didScroll&&!i)return e.didScroll=!0,t=function(){return e.doScroll(),e.didScroll=!1},r.setTimeout(t,l[y].settings.scrollThrottle)}),t.bind(d,function(){var t;if(!e.didResize)return e.didResize=!0,t=function(){return l[y]("refresh"),e.didResize=!1},r.setTimeout(t,l[y].settings.resizeThrottle)})}return t.prototype.doScroll=function(){var t,n=this;return t={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}},!i||t.vertical.oldScroll&&t.vertical.newScroll||l[y]("refresh"),l.each(t,function(t,i){var o,e,r;return r=[],e=i.newScroll>i.oldScroll,o=e?i.forward:i.backward,l.each(n.waypoints[t],function(t,e){var o,n;return i.oldScroll<(o=e.offset)&&o<=i.newScroll?r.push(e):i.newScroll<(n=e.offset)&&n<=i.oldScroll?r.push(e):void 0}),r.sort(function(t,e){return t.offset-e.offset}),e||r.reverse(),l.each(r,function(t,e){if(e.options.continuous||t===r.length-1)return e.trigger([o])})}),this.oldScroll={x:t.horizontal.newScroll,y:t.vertical.newScroll}},t.prototype.refresh=function(){var t,e,o,n=this;return o=l.isWindow(this.element),e=this.$element.offset(),this.doScroll(),t={horizontal:{contextOffset:o?0:e.left,contextScroll:o?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:o?0:e.top,contextScroll:o?0:this.oldScroll.y,contextDimension:o?l[y]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}},l.each(t,function(t,a){return l.each(n.waypoints[t],function(t,e){var o,n,i,r,s;if(o=e.options.offset,i=e.offset,n=l.isWindow(e.element)?0:e.$element.offset()[a.offsetProp],l.isFunction(o)?o=o.apply(e.element):"string"==typeof o&&(o=parseFloat(o),-1<e.options.offset.indexOf("%")&&(o=Math.ceil(a.contextDimension*o/100))),e.offset=n-a.contextOffset+a.contextScroll-o,(!e.options.onlyOnScroll||null==i)&&e.enabled)return null!==i&&i<(r=a.oldScroll)&&r<=e.offset?e.trigger([a.backward]):null!==i&&i>(s=a.oldScroll)&&s>=e.offset?e.trigger([a.forward]):null===i&&a.oldScroll>=e.offset?e.trigger([a.forward]):void 0})})},t.prototype.checkEmpty=function(){if(l.isEmptyObject(this.waypoints.horizontal)&&l.isEmptyObject(this.waypoints.vertical))return this.$element.unbind([d,f].join(" ")),delete u[this.id]},t}(),a=function(){function t(t,e,o){var n,i;"bottom-in-view"===(o=l.extend({},l.fn[v].defaults,o)).offset&&(o.offset=function(){var t;return t=l[y]("viewportHeight"),l.isWindow(e.element)||(t=e.$element.height()),t-l(this).outerHeight()}),this.$element=t,this.element=t[0],this.axis=o.horizontal?"horizontal":"vertical",this.callback=o.handler,this.context=e,this.enabled=o.enabled,this.id="waypoints"+m++,this.offset=null,this.options=o,e.waypoints[this.axis][this.id]=this,c[this.axis][this.id]=this,(n=null!=(i=t.data(g))?i:[]).push(this.id),t.data(g,n)}return t.prototype.trigger=function(t){if(this.enabled)return null!=this.callback&&this.callback.apply(this.element,t),this.options.triggerOnce?this.destroy():void 0},t.prototype.disable=function(){return this.enabled=!1},t.prototype.enable=function(){return this.context.refresh(),this.enabled=!0},t.prototype.destroy=function(){return delete c[this.axis][this.id],delete this.context.waypoints[this.axis][this.id],this.context.checkEmpty()},t.getWaypointsByElement=function(t){var e,o;return(o=l(t).data(g))?(e=l.extend({},c.horizontal,c.vertical),l.map(o,function(t){return e[t]})):[]},t}(),n={init:function(t,i){return null==i&&(i={}),null==i.handler&&(i.handler=t),this.each(function(){var t,e,o,n;return t=l(this),o=null!=(n=i.context)?n:l.fn[v].defaults.context,l.isWindow(o)||(o=t.closest(o)),o=l(o),(e=u[o.data(h)])||(e=new s(o)),new a(t,e,i)}),l[y]("refresh"),this},disable:function(){return n._invoke(this,"disable")},enable:function(){return n._invoke(this,"enable")},destroy:function(){return n._invoke(this,"destroy")},prev:function(t,e){return n._traverse.call(this,t,e,function(t,e,o){if(0<e)return t.push(o[e-1])})},next:function(t,e){return n._traverse.call(this,t,e,function(t,e,o){if(e<o.length-1)return t.push(o[e+1])})},_traverse:function(e,t,o){var n,i;return null==e&&(e="vertical"),null==t&&(t=r),i=p.aggregate(t),n=[],this.each(function(){var t;return t=l.inArray(this,i[e]),o(n,t,i[e])}),this.pushStack(n)},_invoke:function(t,o){return t.each(function(){var t;return t=a.getWaypointsByElement(this),l.each(t,function(t,e){return e[o](),!0})}),this}},l.fn[v]=function(){var t,e;return e=arguments[0],t=2<=arguments.length?w.call(arguments,1):[],n[e]?n[e].apply(this,t):l.isFunction(e)?n.init.apply(this,arguments):l.isPlainObject(e)?n.init.apply(this,[null,e]):e?l.error("The "+e+" method does not exist in jQuery Waypoints."):l.error("jQuery Waypoints needs a callback function or handler option.")},l.fn[v].defaults={context:r,continuous:!0,enabled:!0,horizontal:!1,offset:0,triggerOnce:!1},p={refresh:function(){return l.each(u,function(t,e){return e.refresh()})},viewportHeight:function(){var t;return null!=(t=r.innerHeight)?t:e.height()},aggregate:function(t){var e,n,o;return e=c,t&&(e=null!=(o=u[l(t).data(h)])?o.waypoints:void 0),e?(n={horizontal:[],vertical:[]},l.each(n,function(t,o){return l.each(e[t],function(t,e){return o.push(e)}),o.sort(function(t,e){return t.offset-e.offset}),n[t]=l.map(o,function(t){return t.element}),n[t]=l.unique(n[t])}),n):[]},above:function(t){return null==t&&(t=r),p._filter(t,"vertical",function(t,e){return e.offset<=t.oldScroll.y})},below:function(t){return null==t&&(t=r),p._filter(t,"vertical",function(t,e){return e.offset>t.oldScroll.y})},left:function(t){return null==t&&(t=r),p._filter(t,"horizontal",function(t,e){return e.offset<=t.oldScroll.x})},right:function(t){return null==t&&(t=r),p._filter(t,"horizontal",function(t,e){return e.offset>t.oldScroll.x})},enable:function(){return p._invoke("enable")},disable:function(){return p._invoke("disable")},destroy:function(){return p._invoke("destroy")},extendFn:function(t,e){return n[t]=e},_invoke:function(o){var t;return t=l.extend({},c.vertical,c.horizontal),l.each(t,function(t,e){return e[o](),!0})},_filter:function(t,e,o){var n,i;return(n=u[l(t).data(h)])?(i=[],l.each(n.waypoints[e],function(t,e){if(o(n,e))return i.push(e)}),i.sort(function(t,e){return t.offset-e.offset}),l.map(i,function(t){return t.element})):[]}},l[y]=function(){var t,e;return e=arguments[0],t=2<=arguments.length?w.call(arguments,1):[],p[e]?p[e].apply(null,t):p.aggregate.call(null,e)},l[y].settings={resizeThrottle:100,scrollThrottle:30},e.load(function(){return l[y]("refresh")})},"function"==typeof define&&define.amd?define("waypoints",["jquery"],function(t){return o(t,e)}):o(e.jQuery,e)}.call(this),function(){var t=function(i){"use strict";function o(t){if(t.paused||t.ended||g)return!1;try{p.clearRect(0,0,h,c),p.drawImage(t,0,0,h,c)}catch(t){}w=setTimeout(function(){o(t)},E.duration),k.setIcon(u)}function r(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,o,n){return e+e+o+o+n+n});var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return!!e&&{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}}function s(t,e){var o,n={};for(o in t)n[o]=t[o];for(o in e)n[o]=e[o];return n}i=i||{};var a,l,c,h,u,p,d,n,e,f,m,g,v,y,w,b,x={bgColor:"#d00",textColor:"#fff",fontFamily:"sans-serif",fontStyle:"bold",type:"circle",position:"down",animation:"slide",elementId:!1,dataUrl:!1,win:window};(v={}).ff="undefined"!=typeof InstallTrigger,v.chrome=!!window.chrome,v.opera=!!window.opera||0<=navigator.userAgent.indexOf("Opera"),v.ie=!1,v.safari=0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor"),v.supported=v.chrome||v.ff||v.opera;var _=[];n=g=!(m=function(){});var S={ready:function(){n=!0,S.reset(),m()},reset:function(){n&&(f=e=!(_=[]),p.clearRect(0,0,h,c),p.drawImage(d,0,0,h,c),k.setIcon(u),window.clearTimeout(y),window.clearTimeout(w))}};S.start=function(){if(n&&!f){if(0<_.length){f=!0;var t=function(){["type","animation","bgColor","textColor","fontFamily","fontStyle"].forEach(function(t){t in _[0].options&&(a[t]=_[0].options[t])}),E.run(_[0].options,function(){e=_[0],f=!1,0<_.length&&(_.shift(),S.start())},!1)};e?E.run(e.options,function(){t()},!0):t()}}};var C={},T=function(t){return t.n="number"==typeof t.n?Math.abs(0|t.n):t.n,t.x=h*t.x,t.y=c*t.y,t.w=h*t.w,t.h=c*t.h,t.len=(""+t.n).length,t};C.circle=function(t){var e=!1;2===(t=T(t)).len?(t.x=t.x-.4*t.w,t.w=1.4*t.w,e=!0):3<=t.len&&(t.x=t.x-.65*t.w,t.w=1.65*t.w,e=!0),p.clearRect(0,0,h,c),p.drawImage(d,0,0,h,c),p.beginPath(),p.font=a.fontStyle+" "+Math.floor(t.h*(99<t.n?.85:1))+"px "+a.fontFamily,p.textAlign="center",e?(p.moveTo(t.x+t.w/2,t.y),p.lineTo(t.x+t.w-t.h/2,t.y),p.quadraticCurveTo(t.x+t.w,t.y,t.x+t.w,t.y+t.h/2),p.lineTo(t.x+t.w,t.y+t.h-t.h/2),p.quadraticCurveTo(t.x+t.w,t.y+t.h,t.x+t.w-t.h/2,t.y+t.h),p.lineTo(t.x+t.h/2,t.y+t.h),p.quadraticCurveTo(t.x,t.y+t.h,t.x,t.y+t.h-t.h/2),p.lineTo(t.x,t.y+t.h/2),p.quadraticCurveTo(t.x,t.y,t.x+t.h/2,t.y)):p.arc(t.x+t.w/2,t.y+t.h/2,t.h/2,0,2*Math.PI),p.fillStyle="rgba("+a.bgColor.r+","+a.bgColor.g+","+a.bgColor.b+","+t.o+")",p.fill(),p.closePath(),p.beginPath(),p.stroke(),p.fillStyle="rgba("+a.textColor.r+","+a.textColor.g+","+a.textColor.b+","+t.o+")","number"==typeof t.n&&999<t.n?p.fillText((9999<t.n?9:Math.floor(t.n/1e3))+"k+",Math.floor(t.x+t.w/2),Math.floor(t.y+t.h-.2*t.h)):p.fillText(t.n,Math.floor(t.x+t.w/2),Math.floor(t.y+t.h-.15*t.h)),p.closePath()},C.rectangle=function(t){2===(t=T(t)).len?(t.x=t.x-.4*t.w,t.w=1.4*t.w):3<=t.len&&(t.x=t.x-.65*t.w,t.w=1.65*t.w),p.clearRect(0,0,h,c),p.drawImage(d,0,0,h,c),p.beginPath(),p.font=a.fontStyle+" "+Math.floor(t.h*(99<t.n?.9:1))+"px "+a.fontFamily,p.textAlign="center",p.fillStyle="rgba("+a.bgColor.r+","+a.bgColor.g+","+a.bgColor.b+","+t.o+")",p.fillRect(t.x,t.y,t.w,t.h),p.fillStyle="rgba("+a.textColor.r+","+a.textColor.g+","+a.textColor.b+","+t.o+")","number"==typeof t.n&&999<t.n?p.fillText((9999<t.n?9:Math.floor(t.n/1e3))+"k+",Math.floor(t.x+t.w/2),Math.floor(t.y+t.h-.2*t.h)):p.fillText(t.n,Math.floor(t.x+t.w/2),Math.floor(t.y+t.h-.15*t.h)),p.closePath()};var k={getIcon:function(){var t=!1;return a.element?t=a.element:a.elementId?(t=b.getElementById(a.elementId)).setAttribute("href",t.getAttribute("src")):!1===(t=function(){for(var t=b.getElementsByTagName("head")[0].getElementsByTagName("link"),e=t.length-1;0<=e;e--)if(/(^|\s)icon(\s|$)/i.test(t[e].getAttribute("rel")))return t[e];return!1}())&&((t=b.createElement("link")).setAttribute("rel","icon"),b.getElementsByTagName("head")[0].appendChild(t)),t.setAttribute("type","image/png"),t},setIcon:function(t){var e=t.toDataURL("image/png");if(a.dataUrl&&a.dataUrl(e),a.element)a.element.setAttribute("href",e),a.element.setAttribute("src",e);else if(a.elementId){var o=b.getElementById(a.elementId);o.setAttribute("href",e),o.setAttribute("src",e)}else if(v.ff||v.opera){var n=l;l=b.createElement("link"),v.opera&&l.setAttribute("rel","icon"),l.setAttribute("rel","icon"),l.setAttribute("type","image/png"),b.getElementsByTagName("head")[0].appendChild(l),l.setAttribute("href",e),n.parentNode&&n.parentNode.removeChild(n)}else l.setAttribute("href",e)}},E={duration:40,types:{}};return E.types.fade=[{x:.4,y:.4,w:.6,h:.6,o:0},{x:.4,y:.4,w:.6,h:.6,o:.1},{x:.4,y:.4,w:.6,h:.6,o:.2},{x:.4,y:.4,w:.6,h:.6,o:.3},{x:.4,y:.4,w:.6,h:.6,o:.4},{x:.4,y:.4,w:.6,h:.6,o:.5},{x:.4,y:.4,w:.6,h:.6,o:.6},{x:.4,y:.4,w:.6,h:.6,o:.7},{x:.4,y:.4,w:.6,h:.6,o:.8},{x:.4,y:.4,w:.6,h:.6,o:.9},{x:.4,y:.4,w:.6,h:.6,o:1}],E.types.none=[{x:.4,y:.4,w:.6,h:.6,o:1}],E.types.pop=[{x:1,y:1,w:0,h:0,o:1},{x:.9,y:.9,w:.1,h:.1,o:1},{x:.8,y:.8,w:.2,h:.2,o:1},{x:.7,y:.7,w:.3,h:.3,o:1},{x:.6,y:.6,w:.4,h:.4,o:1},{x:.5,y:.5,w:.5,h:.5,o:1},{x:.4,y:.4,w:.6,h:.6,o:1}],E.types.popFade=[{x:.75,y:.75,w:0,h:0,o:0},{x:.65,y:.65,w:.1,h:.1,o:.2},{x:.6,y:.6,w:.2,h:.2,o:.4},{x:.55,y:.55,w:.3,h:.3,o:.6},{x:.5,y:.5,w:.4,h:.4,o:.8},{x:.45,y:.45,w:.5,h:.5,o:.9},{x:.4,y:.4,w:.6,h:.6,o:1}],E.types.slide=[{x:.4,y:1,w:.6,h:.6,o:1},{x:.4,y:.9,w:.6,h:.6,o:1},{x:.4,y:.9,w:.6,h:.6,o:1},{x:.4,y:.8,w:.6,h:.6,o:1},{x:.4,y:.7,w:.6,h:.6,o:1},{x:.4,y:.6,w:.6,h:.6,o:1},{x:.4,y:.5,w:.6,h:.6,o:1},{x:.4,y:.4,w:.6,h:.6,o:1}],E.run=function(t,e,o,n){var i=E.types[b.hidden||b.msHidden||b.webkitHidden||b.mozHidden?"none":a.animation];return n=!0===o?void 0!==n?n:i.length-1:void 0!==n?n:0,e=e||function(){},n<i.length&&0<=n?(C[a.type](s(t,i[n])),y=setTimeout(function(){o?n-=1:n+=1,E.run(t,e,o,n)},E.duration),void k.setIcon(u)):void e()},function(){(a=s(x,i)).bgColor=r(a.bgColor),a.textColor=r(a.textColor),a.position=a.position.toLowerCase(),a.animation=E.types[""+a.animation]?a.animation:x.animation,b=a.win.document;var t=-1<a.position.indexOf("up"),e=-1<a.position.indexOf("left");if(t||e)for(var o=0;o<E.types[""+a.animation].length;o++){var n=E.types[""+a.animation][o];t&&(n.y=n.y<.6?n.y-.4:n.y-2*n.y+(1-n.w)),e&&(n.x=n.x<.6?n.x-.4:n.x-2*n.x+(1-n.h)),E.types[""+a.animation][o]=n}a.type=C[""+a.type]?a.type:x.type,l=k.getIcon(),u=document.createElement("canvas"),d=document.createElement("img"),l.hasAttribute("href")?(d.setAttribute("crossOrigin","anonymous"),d.onload=function(){c=0<d.height?d.height:32,h=0<d.width?d.width:32,u.height=c,u.width=h,p=u.getContext("2d"),S.ready()},d.setAttribute("src",l.getAttribute("href"))):(d.onload=function(){h=c=32,d.height=c,d.width=h,u.height=c,u.width=h,p=u.getContext("2d"),S.ready()},d.setAttribute("src",""))}(),{badge:function(t,o){o=("string"==typeof o?{animation:o}:o)||{},m=function(){try{if("number"==typeof t?0<t:""!==t){var e={type:"badge",options:{n:t}};if("animation"in o&&E.types[""+o.animation]&&(e.options.animation=""+o.animation),"type"in o&&C[""+o.type]&&(e.options.type=""+o.type),["bgColor","textColor"].forEach(function(t){t in o&&(e.options[t]=r(o[t]))}),["fontStyle","fontFamily"].forEach(function(t){t in o&&(e.options[t]=o[t])}),_.push(e),100<_.length)throw new Error("Too many badges requests in queue.");S.start()}else S.reset()}catch(t){throw new Error("Error setting badge. Message: "+t.message)}},n&&m()},video:function(t){m=function(){try{if("stop"===t)return g=!0,S.reset(),void(g=!1);t.addEventListener("play",function(){o(this)},!1)}catch(t){throw new Error("Error setting video. Message: "+t.message)}},n&&m()},image:function(i){m=function(){try{var t=i.width,e=i.height,o=document.createElement("img"),n=t/h<e/c?t/h:e/c;o.setAttribute("crossOrigin","anonymous"),o.onload=function(){p.clearRect(0,0,h,c),p.drawImage(o,0,0,h,c),k.setIcon(u)},o.setAttribute("src",i.getAttribute("src")),o.height=e/n,o.width=t/n}catch(t){throw new Error("Error setting image. Message: "+t.message)}},n&&m()},webcam:function(t){if(window.URL&&window.URL.createObjectURL||(window.URL=window.URL||{},window.URL.createObjectURL=function(t){return t}),v.supported){var e=!1;navigator.getUserMedia=navigator.getUserMedia||navigator.oGetUserMedia||navigator.msGetUserMedia||navigator.mozGetUserMedia||navigator.webkitGetUserMedia,m=function(){try{if("stop"===t)return g=!0,S.reset(),void(g=!1);(e=document.createElement("video")).width=h,e.height=c,navigator.getUserMedia({video:!0,audio:!1},function(t){e.src=URL.createObjectURL(t),e.play(),o(e)},function(){})}catch(t){throw new Error("Error setting webcam. Message: "+t.message)}},n&&m()}},reset:S.reset,browser:{supported:v.supported}}};"undefined"!=typeof define&&define.amd?define([],function(){return t}):"undefined"!=typeof module&&module.exports?module.exports=t:this.Favico=t}(),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):t.Maplace=e(t.jQuery)}(this,function(l){"use strict";function t(t){this.VERSION="0.2.10",this.loaded=!1,this.markers=[],this.circles=[],this.oMap=!1,this.view_all_key="all",this.infowindow=null,this.maxZIndex=0,this.ln=0,this.oMap=!1,this.oBounds=null,this.map_div=null,this.canvas_map=null,this.controls_wrapper=null,this.current_control=null,this.current_index=null,this.Polyline=null,this.Polygon=null,this.Fusion=null,this.directionsService=null,this.directionsDisplay=null,this.o={debug:!1,map_div:"#gmap",controls_div:"#controls",generate_controls:!0,controls_type:"dropdown",controls_cssclass:"",controls_title:"",controls_on_map:!0,controls_applycss:!0,controls_position:google.maps.ControlPosition.RIGHT_TOP,type:"marker",view_all:!0,view_all_text:"View All",pan_on_click:!0,start:0,locations:[],shared:{},map_options:{mapTypeId:google.maps.MapTypeId.ROADMAP},stroke_options:{strokeColor:"#0000FF",strokeOpacity:.8,strokeWeight:2,fillColor:"#0000FF",fillOpacity:.4},directions_options:{travelMode:google.maps.TravelMode.DRIVING,unitSystem:google.maps.UnitSystem.METRIC,optimizeWaypoints:!1,provideRouteAlternatives:!1,avoidHighways:!1,avoidTolls:!1},circle_options:{radius:100,visible:!0},styles:{},fusion_options:{},directions_panel:null,draggable:!1,editable:!1,show_infowindows:!0,show_markers:!0,infowindow_type:"bubble",listeners:{},beforeViewAll:function(){},afterViewAll:function(){},beforeShow:function(t,e,o){},afterShow:function(t,e,o){},afterCreateMarker:function(t,e,o){},beforeCloseInfowindow:function(t,e){},afterCloseInfowindow:function(t,e){},beforeOpenInfowindow:function(t,e,o){},afterOpenInfowindow:function(t,e,o){},afterRoute:function(t,e,o){},onPolylineClick:function(t){},onPolygonClick:function(t){},circleRadiusChanged:function(t,e,o){},circleCenterChanged:function(t,e,o){},drag:function(t,e,o){},dragEnd:function(t,e,o){},dragStart:function(t,e,o){}},this.AddControl("dropdown",e),this.AddControl("list",n),t&&"directions"===t.type&&(!t.show_markers&&(t.show_markers=!1),!t.show_infowindows&&(t.show_infowindows=!1)),l.extend(!0,this.o,t)}var e,n;return e={activateCurrent:function(t){this.html_element.find("select").val(t)},getHtml:function(){var t,e,o=this,n="";if(1<this.ln){for(n+='<select class="dropdown controls '+this.o.controls_cssclass+'">',this.ShowOnMenu(this.view_all_key)&&(n+='<option value="'+this.view_all_key+'">'+this.o.view_all_text+"</option>"),e=0;e<this.ln;e+=1)this.ShowOnMenu(e)&&(n+='<option value="'+(e+1)+'">'+(this.o.locations[e].title||"#"+(e+1))+"</option>");n=l(n+="</select>").bind("change",function(){o.ViewOnMap(this.value)})}return t=this.o.controls_title,this.o.controls_title&&(t=l('<div class="controls_title"></div>').css(this.o.controls_applycss?{fontWeight:"bold",fontSize:this.o.controls_on_map?"12px":"inherit",padding:"3px 10px 5px 0"}:{}).append(this.o.controls_title)),this.html_element=l('<div class="wrap_controls"></div>').append(t).append(n),this.html_element}},n={html_a:function(t,e,o){var n=this,i=e||t+1,r=o||this.o.locations[t].title,s=l('<a data-load="'+i+'" id="ullist_a_'+i+'" href="#'+i+'" title="'+r+'"><span>'+(r||"#"+(t+1))+"</span></a>");return s.css(this.o.controls_applycss?{color:"#666",display:"block",padding:"5px",fontSize:this.o.controls_on_map?"12px":"inherit",textDecoration:"none"}:{}),s.on("click",function(t){t.preventDefault();var e=l(this).attr("data-load");n.ViewOnMap(e)}),s},activateCurrent:function(t){this.html_element.find("li").removeClass("active"),this.html_element.find("#ullist_a_"+t).parent().addClass("active")},getHtml:function(){var t,e,o=l("<ul class='ullist controls "+this.o.controls_cssclass+"'></ul>").css(this.o.controls_applycss?{margin:0,padding:0,listStyleType:"none"}:{});for(this.ShowOnMenu(this.view_all_key)&&o.append(l("<li></li>").append(n.html_a.call(this,!1,this.view_all_key,this.o.view_all_text))),e=0;e<this.ln;e++)this.ShowOnMenu(e)&&o.append(l("<li></li>").append(n.html_a.call(this,e)));return t=this.o.controls_title,this.o.controls_title&&(t=l('<div class="controls_title"></div>').css(this.o.controls_applycss?{fontWeight:"bold",padding:"3px 10px 5px 0",fontSize:this.o.controls_on_map?"12px":"inherit"}:{}).append(this.o.controls_title)),this.html_element=l('<div class="wrap_controls"></div>').append(t).append(o),this.html_element}},t.prototype.controls={},t.prototype.create_objMap=function(){var t,e=0;for(t in this.o.styles)this.o.styles.hasOwnProperty(t)&&(0===e&&(this.o.map_options.mapTypeControlOptions={mapTypeIds:[google.maps.MapTypeId.ROADMAP]}),e++,this.o.map_options.mapTypeControlOptions.mapTypeIds.push("map_style_"+e));if(this.loaded)this.oMap.setOptions(this.o.map_options);else try{this.map_div.css({position:"relative",overflow:"hidden"}),this.canvas_map=l("<div>").addClass("canvas_map").css({width:"100%",height:"100%"}).appendTo(this.map_div),this.oMap=new google.maps.Map(this.canvas_map.get(0),this.o.map_options)}catch(t){this.debug("create_objMap::"+this.map_div.selector,t.toString())}for(t in e=0,this.o.styles)this.o.styles.hasOwnProperty(t)&&(e++,this.oMap.mapTypes.set("map_style_"+e,new google.maps.StyledMapType(this.o.styles[t],{name:t})),this.oMap.setMapTypeId("map_style_"+e))},t.prototype.add_markers_to_objMap=function(){var t,e,o=this.o.type||"marker";switch(o){case"marker":for(t=0;t<this.ln;t++)e=this.create_objPoint(t),this.create.marker.call(this,t,e);break;default:this.create[o].apply(this)}},t.prototype.create_objPoint=function(t){var e=l.extend({},this.o.locations[t]),o=void 0===e.visible?void 0:e.visible;return!e.type&&(e.type=this.o.type),e.map=this.oMap,e.position=new google.maps.LatLng(e.lat,e.lon),e.zIndex=void 0===e.zIndex?1e4:e.zIndex+100,e.visible=void 0===o?this.o.show_markers:o,this.o.maxZIndex=e.zIndex>this.maxZIndex?e.zIndex:this.maxZIndex,e.image&&(e.icon=new google.maps.MarkerImage(e.image,new google.maps.Size(e.image_w||32,e.image_h||32),new google.maps.Point(0,0),new google.maps.Point((e.image_w||32)/2,(e.image_h||32)/2))),e},t.prototype.create_objCircle=function(t){var e,o,n;return n=l.extend({},t),e=l.extend({},this.o.stroke_options),o=l.extend({},this.o.circle_options),l.extend(e,t.stroke_options||{}),l.extend(n,e),l.extend(o,t.circle_options||{}),l.extend(n,o),n.center=t.position,n.draggable=!1,n.zIndex=0<t.zIndex?t.zIndex-10:1,n},t.prototype.add_markerEv=function(e,o,n){var i=this;google.maps.event.addListener(n,"click",function(t){i.CloseInfoWindow(),i.o.beforeShow.call(i,e,o,n),i.o.show_infowindows&&!1!==o.show_infowindow&&i.open_infowindow(e,n,t),i.o.pan_on_click&&!1!==o.pan_on_click&&(i.oMap.panTo(o.position),o.zoom&&i.oMap.setZoom(o.zoom)),i.current_control&&i.o.generate_controls&&i.current_control.activateCurrent&&i.current_control.activateCurrent.call(i,e+1),i.current_index=e,i.o.afterShow.call(i,e,o,n)}),o.draggable&&this.add_dragEv(e,o,n)},t.prototype.add_circleEv=function(t,e,o){var n=this;google.maps.event.addListener(o,"click",function(){n.ViewOnMap(t+1)}),google.maps.event.addListener(o,"center_changed",function(){n.o.circleCenterChanged.call(n,t,e,o)}),google.maps.event.addListener(o,"radius_changed",function(){n.o.circleRadiusChanged.call(n,t,e,o)}),e.draggable&&this.add_dragEv(t,e,o)},t.prototype.add_dragEv=function(s,a,l){var c=this;google.maps.event.addListener(l,"drag",function(t){var e,o;if(l.getPosition)e=l.getPosition();else{if(!l.getCenter)return;e=l.getCenter()}if(c.circles[s]&&c.circles[s].setCenter(e),c.Polyline?o="Polyline":c.Polygon&&(o="Polygon"),o){for(var n=c[o].getPath().getArray(),i=[],r=0;r<n.length;++r)i[r]=s===r?new google.maps.LatLng(e.lat(),e.lng()):new google.maps.LatLng(n[r].lat(),n[r].lng());c[o].setPath(new google.maps.MVCArray(i)),c.add_polyEv(o)}c.o.drag.call(c,s,a,l)}),google.maps.event.addListener(l,"dragend",function(){c.o.dragEnd.call(c,s,a,l)}),google.maps.event.addListener(l,"dragstart",function(){c.o.dragStart.call(c,s,a,l)}),google.maps.event.addListener(l,"center_changed",function(){c.markers[s]&&l.getCenter&&c.markers[s].setPosition(l.getCenter()),c.o.drag.call(c,s,a,l)})},t.prototype.add_polyEv=function(o){var n=this;google.maps.event.addListener(this[o].getPath(),"set_at",function(t,e){n.trigger_polyEv(o,t,e)}),google.maps.event.addListener(this[o].getPath(),"insert_at",function(t,e){n.trigger_polyEv(o,t,e)})},t.prototype.trigger_polyEv=function(t,e,o){var n=this[t].getPath().getAt(e),i=new google.maps.LatLng(n.lat(),n.lng());this.markers[e]&&this.markers[e].setPosition(i),this.circles[e]&&this.circles[e].setCenter(i),this.o["on"+t+"Changed"](e,o,this[t].getPath().getArray())},t.prototype.create={marker:function(t,e,o){if("circle"===e.type&&!o){var n=this.create_objCircle(e);e.visible||(n.draggable=e.draggable),o=new google.maps.Circle(n),this.add_circleEv(t,n,o),this.circles[t]=o}return e.type="marker",o=new google.maps.Marker(e),this.add_markerEv(t,e,o),this.oBounds.extend(e.position),this.markers[t]=o,this.o.afterCreateMarker.call(this,t,e,o),o},circle:function(){var t,e,o,n;for(t=0;t<this.ln;t++)"circle"===(e=this.create_objPoint(t)).type&&(o=this.create_objCircle(e),e.visible||(o.draggable=e.draggable),n=new google.maps.Circle(o),this.add_circleEv(t,o,n),this.circles[t]=n),e.type="marker",this.create.marker.call(this,t,e,n)},polyline:function(){var t,e,o=l.extend({},this.o.stroke_options);for(o.path=[],o.draggable=this.o.draggable,o.editable=this.o.editable,o.map=this.oMap,o.zIndex=this.o.maxZIndex+100,t=0;t<this.ln;t++)e=this.create_objPoint(t),this.create.marker.call(this,t,e),o.path.push(e.position);this.Polyline?this.Polyline.setOptions(o):this.Polyline=new google.maps.Polyline(o),this.add_polyEv("Polyline")},polygon:function(){var t,e,o=this,n=l.extend({},this.o.stroke_options);for(n.path=[],n.draggable=this.o.draggable,n.editable=this.o.editable,n.map=this.oMap,n.zIndex=this.o.maxZIndex+100,t=0;t<this.ln;t++)e=this.create_objPoint(t),this.create.marker.call(this,t,e),n.path.push(e.position);this.Polygon?this.Polygon.setOptions(n):this.Polygon=new google.maps.Polygon(n),google.maps.event.addListener(this.Polygon,"click",function(t){o.o.onPolygonClick.call(o,t)}),this.add_polyEv("Polygon")},fusion:function(){this.o.fusion_options.styles=[this.o.stroke_options],this.o.fusion_options.map=this.oMap,this.Fusion?this.Fusion.setOptions(this.o.fusion_options):this.Fusion=new google.maps.FusionTablesLayer(this.o.fusion_options)},directions:function(){var t,e,o,n,i,r=this,s=[],a=0;for(t=0;t<this.ln;t++)e=this.create_objPoint(t),0===t?n=e.position:t===this.ln-1?i=e.position:(o=!0===this.o.locations[t].stopover,s.push({location:e.position,stopover:o})),this.create.marker.call(this,t,e);this.o.directions_options.origin=n,this.o.directions_options.destination=i,this.o.directions_options.waypoints=s,this.directionsService||(this.directionsService=new google.maps.DirectionsService),this.directionsDisplay?this.directionsDisplay.setOptions({draggable:this.o.draggable}):this.directionsDisplay=new google.maps.DirectionsRenderer({draggable:this.o.draggable}),this.directionsDisplay.setMap(this.oMap),this.o.directions_panel&&(this.o.directions_panel=l(this.o.directions_panel),this.directionsDisplay.setPanel(this.o.directions_panel.get(0))),this.o.draggable&&google.maps.event.addListener(this.directionsDisplay,"directions_changed",function(){var t=r.directionsDisplay.getDirections();a=r.compute_distance(r.directionsDisplay.directions),r.o.afterRoute.call(r,a,t.status,t)}),this.directionsService.route(this.o.directions_options,function(t,e){e===google.maps.DirectionsStatus.OK&&(a=r.compute_distance(t),r.directionsDisplay.setDirections(t)),r.o.afterRoute.call(r,a,e,t)})}},t.prototype.compute_distance=function(t){var e,o=0,n=t.routes[0],i=n.legs.length;for(e=0;e<i;e++)o+=n.legs[e].distance.value;return o},t.prototype.type_to_open={bubble:function(t){var e=this,o={content:t.html||""};t.infoWindowMaxWidth&&(o.maxWidth=t.infoWindowMaxWidth),this.infowindow=new google.maps.InfoWindow(o),google.maps.event.addListener(this.infowindow,"closeclick",function(){e.CloseInfoWindow()})}},t.prototype.open_infowindow=function(t,e,o){var n=this.o.locations[t],i=this.o.infowindow_type;n.html&&this.type_to_open[i]&&(this.o.beforeOpenInfowindow.call(this,t,n,e),this.type_to_open[i].call(this,n),this.infowindow.open(this.oMap,e),this.o.afterOpenInfowindow.call(this,t,n,e))},t.prototype.get_html_controls=function(){return this.controls[this.o.controls_type]&&this.controls[this.o.controls_type].getHtml?(this.current_control=this.controls[this.o.controls_type],this.current_control.getHtml.apply(this)):""},t.prototype.generate_controls=function(){if(!this.o.controls_on_map)return this.controls_wrapper.empty(),void this.controls_wrapper.append(this.get_html_controls());var t=l('<div class="on_gmap '+this.o.controls_type+' gmap_controls"></div>').css(this.o.controls_applycss?{margin:"5px"}:{}),e=l(this.get_html_controls()).css(this.o.controls_applycss?{background:"#fff",padding:"5px",border:"1px solid #eee",boxShadow:"rgba(0, 0, 0, 0.298039) 0px 1px 4px -1px",maxHeight:this.map_div.find(".canvas_map").outerHeight()-80,minWidth:100,overflowY:"auto",overflowX:"hidden"}:{});t.append(e),this.oMap.controls[this.o.controls_position].clear(),this.oMap.controls[this.o.controls_position].push(t.get(0))},t.prototype.init_map=function(){var o=this;this.Polyline&&this.Polyline.setMap(null),this.Polygon&&this.Polygon.setMap(null),this.Fusion&&this.Fusion.setMap(null),this.directionsDisplay&&this.directionsDisplay.setMap(null);for(var t=this.markers.length-1;0<=t;t-=1)try{this.markers[t]&&this.markers[t].setMap(null)}catch(t){o.debug("init_map::markers::setMap",t.stack)}this.markers.length=0,this.markers=[];for(var e=this.circles.length-1;0<=e;e-=1)try{this.circles[e]&&this.circles[e].setMap(null)}catch(t){o.debug("init_map::circles::setMap",t.stack)}this.circles.length=0,this.circles=[],this.o.controls_on_map&&this.oMap.controls&&this.oMap.controls[this.o.controls_position].forEach(function(t,e){try{o.oMap.controls[this.o.controls_position].removeAt(e)}catch(t){o.debug("init_map::removeAt",t.stack)}}),this.oBounds=new google.maps.LatLngBounds},t.prototype.perform_load=function(){this.CloseInfoWindow(),1===this.ln?(this.o.map_options.set_center?this.oMap.setCenter(new google.maps.LatLng(this.o.map_options.set_center[0],this.o.map_options.set_center[1])):(this.oMap.fitBounds(this.oBounds),this.ViewOnMap(1)),this.o.map_options.zoom&&this.oMap.setZoom(this.o.map_options.zoom)):0===this.ln?(this.o.map_options.set_center?this.oMap.setCenter(new google.maps.LatLng(this.o.map_options.set_center[0],this.o.map_options.set_center[1])):this.oMap.fitBounds(this.oBounds),this.oMap.setZoom(this.o.map_options.zoom||1)):(this.oMap.fitBounds(this.oBounds),"number"==typeof(this.o.start-0)&&0<this.o.start&&this.o.start<=this.ln?this.ViewOnMap(this.o.start):this.o.map_options.set_center?this.oMap.setCenter(new google.maps.LatLng(this.o.map_options.set_center[0],this.o.map_options.set_center[1])):this.ViewOnMap(this.view_all_key),this.o.map_options.zoom&&this.oMap.setZoom(this.o.map_options.zoom))},t.prototype.debug=function(t,e){return this.o.debug&&console.log(t,e),this},t.prototype.AddControl=function(t,e){return t&&e?(this.controls[t]=e,this):(self.debug("AddControl",'Missing "name" and "func" callback.'),!1)},t.prototype.CloseInfoWindow=function(){return this.infowindow&&(this.current_index||0===this.current_index)&&(this.o.beforeCloseInfowindow.call(this,this.current_index,this.o.locations[this.current_index]),this.infowindow.close(),this.infowindow=null,this.o.afterCloseInfowindow.call(this,this.current_index,this.o.locations[this.current_index])),this},t.prototype.ShowOnMenu=function(t){if(t===this.view_all_key&&this.o.view_all&&1<this.ln)return!0;if("number"==typeof((t=parseInt(t,10))-0)&&0<=t&&t<this.ln&&!1!==this.o.locations[t].on_menu)return!0;return!1},t.prototype.ViewOnMap=function(t){if(t===this.view_all_key)this.o.beforeViewAll.call(this),this.current_index=t,0<this.o.locations.length&&this.o.generate_controls&&this.current_control&&this.current_control.activateCurrent&&this.current_control.activateCurrent.apply(this,[t]),this.oMap.fitBounds(this.oBounds),this.o.afterViewAll.call(this);else if("number"==typeof((t=parseInt(t,10))-0)&&0<t&&t<=this.ln)try{google.maps.event.trigger(this.markers[t-1],"click")}catch(t){this.debug("ViewOnMap::trigger",t.stack)}return this},t.prototype.SetLocations=function(t,e){return this.o.locations=t,e&&this.Load(),this},t.prototype.AddLocations=function(t,e){var o=this;return l.isArray(t)&&l.each(t,function(t,e){o.o.locations.push(e)}),l.isPlainObject(t)&&this.o.locations.push(t),e&&this.Load(),this},t.prototype.AddLocation=function(t,e,o){return l.isPlainObject(t)&&this.o.locations.splice(e,0,t),o&&this.Load(),this},t.prototype.RemoveLocations=function(t,e){var o=this,n=0;return l.isArray(t)?l.each(t,function(t,e){e-n<o.ln&&o.o.locations.splice(e-n,1),n++}):t<this.ln&&this.o.locations.splice(t,1),e&&this.Load(),this},t.prototype.Loaded=function(){return this.loaded},t.prototype._init=function(){this.ln=this.o.locations.length;for(var t=0;t<this.ln;t++){var e=l.extend({},this.o.shared);this.o.locations[t]=l.extend(e,this.o.locations[t]),this.o.locations[t].html&&(this.o.locations[t].html=this.o.locations[t].html.replace("%index",t+1),this.o.locations[t].html=this.o.locations[t].html.replace("%title",this.o.locations[t].title||""))}return this.map_div=l(this.o.map_div),this.controls_wrapper=l(this.o.controls_div),this},t.prototype.Load=function(t){l.extend(!0,this.o,t),t&&t.locations&&(this.o.locations=t.locations),this._init(),!1===this.o.visualRefresh?google.maps.visualRefresh=!1:google.maps.visualRefresh=!0,this.init_map(),this.create_objMap(),this.add_markers_to_objMap(),1<this.ln&&this.o.generate_controls||this.o.force_generate_controls?(this.o.generate_controls=!0,this.generate_controls()):this.o.generate_controls=!1;var e=this;if(this.loaded)this.perform_load();else for(var o in google.maps.event.addListenerOnce(this.oMap,"idle",function(){e.perform_load()}),this.o.listeners)this.o.listeners.hasOwnProperty(o)&&google.maps.event.addListener(this.oMap,o,this.o.listeners[o]);return this.loaded=!0,this},t});